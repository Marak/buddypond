var BundledCode=(()=>{var qs=Object.create;var wt=Object.defineProperty;var js=Object.getOwnPropertyDescriptor;var Zs=Object.getOwnPropertyNames;var zs=Object.getPrototypeOf,Xs=Object.prototype.hasOwnProperty;var Se=(e,t)=>()=>(e&&(t=e(e=0)),t);var Tr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_t=(e,t)=>{for(var r in t)wt(e,r,{get:t[r],enumerable:!0})},Ir=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Zs(t))!Xs.call(e,n)&&n!==r&&wt(e,n,{get:()=>t[n],enumerable:!(o=js(t,n))||o.enumerable});return e};var Xt=(e,t,r)=>(r=e!=null?qs(zs(e)):{},Ir(t||!e||!e.__esModule?wt(r,"default",{value:e,enumerable:!0}):r,e)),Ot=e=>Ir(wt({},"__esModule",{value:!0}),e);var Er=Tr((Tt,Mr)=>{(function(e,t){typeof Tt=="object"&&typeof Mr<"u"?t(Tt):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.fastUniqueNumbers={}))})(Tt,function(e){"use strict";var t=function(m){return function(f){var d=m(f);return f.add(d),d}},r=function(m){return function(f,d){return m.set(f,d),d}},o=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,s=n*2,u=function(m,f){return function(d){var h=f.get(d),x=h===void 0?d.size:h<s?h+1:0;if(!d.has(x))return m(d,x);if(d.size<n){for(;d.has(x);)x=Math.floor(Math.random()*s);return m(d,x)}if(d.size>o)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;d.has(x);)x=Math.floor(Math.random()*o);return m(d,x)}},a=new WeakMap,c=r(a),i=u(c,a),l=t(i);e.addUniqueNumber=l,e.generateUniqueNumber=i})});function br(e){if(Array.isArray(e))return e}var Pr=Se(()=>{});function Fr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,n,s,u,a=[],c=!0,i=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=s.call(r)).done)&&(a.push(o.value),a.length!==t);c=!0);}catch(l){i=!0,n=l}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(i)throw n}}return a}}var Rr=Se(()=>{});function Yt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var Dr=Se(()=>{});function kr(e,t){if(e){if(typeof e=="string")return Yt(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(e,t):void 0}}var Lr=Se(()=>{Dr()});function Wr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vr=Se(()=>{});var Br={};_t(Br,{default:()=>Ys});function Ys(e,t){return br(e)||Fr(e,t)||kr(e,t)||Wr()}var Gr=Se(()=>{Pr();Rr();Lr();Vr()});var Ur={};_t(Ur,{default:()=>Hs});function Hs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var qr=Se(()=>{});function je(e){"@babel/helpers - typeof";return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(e)}var Ht=Se(()=>{});function jr(e,t){if(je(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(je(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zr=Se(()=>{Ht()});function zr(e){var t=jr(e,"string");return je(t)=="symbol"?t:t+""}var Xr=Se(()=>{Ht();Zr()});var Hr={};_t(Hr,{default:()=>Ks});function Yr(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,zr(o.key),o)}}function Ks(e,t,r){return t&&Yr(e.prototype,t),r&&Yr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Kr=Se(()=>{Xr()});var Kt=Tr((It,Qr)=>{(function(e,t){typeof It=="object"&&typeof Qr<"u"?t(It,(Gr(),Ot(Br)),(qr(),Ot(Ur)),(Kr(),Ot(Hr))):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/slicedToArray","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.automationEvents={},e._slicedToArray,e._classCallCheck,e._createClass))})(It,function(e,t,r,o){"use strict";var n=function(O,w,S){return{endTime:w,insertTime:S,type:"exponentialRampToValue",value:O}},s=function(O,w,S){return{endTime:w,insertTime:S,type:"linearRampToValue",value:O}},u=function(O,w){return{startTime:w,type:"setValue",value:O}},a=function(O,w,S){return{duration:S,startTime:w,type:"setValueCurve",values:O}},c=function(O,w,S){var D=S.startTime,R=S.target,T=S.timeConstant;return R+(w-R)*Math.exp((D-O)/T)},i=function(O){return O.type==="exponentialRampToValue"},l=function(O){return O.type==="linearRampToValue"},p=function(O){return i(O)||l(O)},m=function(O){return O.type==="setValue"},f=function(O){return O.type==="setValueCurve"},d=function(O,w,S,D){var R=O[w];return R===void 0?D:p(R)||m(R)?R.value:f(R)?R.values[R.values.length-1]:c(S,d(O,w-1,R.startTime,D),R)},h=function(O,w,S,D,R){return S===void 0?[D.insertTime,R]:p(S)?[S.endTime,S.value]:m(S)?[S.startTime,S.value]:f(S)?[S.startTime+S.duration,S.values[S.values.length-1]]:[S.startTime,d(O,w-1,S.startTime,R)]},x=function(O){return O.type==="cancelAndHold"},N=function(O){return O.type==="cancelScheduledValues"},A=function(O){return x(O)||N(O)?O.cancelTime:i(O)||l(O)?O.endTime:O.startTime},_=function(O,w,S,D){var R=D.endTime,T=D.value;return S===T?T:0<S&&0<T||S<0&&T<0?S*Math.pow(T/S,(O-w)/(R-w)):0},M=function(O,w,S,D){var R=D.endTime,T=D.value;return S+(O-w)/(R-w)*(T-S)},v=function(O,w){var S=Math.floor(w),D=Math.ceil(w);return S===D?O[S]:(1-(w-S))*O[S]+(1-(D-w))*O[D]},g=function(O,w){var S=w.duration,D=w.startTime,R=w.values,T=(O-D)/S*(R.length-1);return v(R,T)},y=function(O){return O.type==="setTarget"},C=function(){function P(O){r(this,P),this._automationEvents=[],this._currenTime=0,this._defaultValue=O}return o(P,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(w){var S=A(w);if(x(w)||N(w)){var D=this._automationEvents.findIndex(function(k){return N(w)&&f(k)?k.startTime+k.duration>=S:A(k)>=S}),R=this._automationEvents[D];if(D!==-1&&(this._automationEvents=this._automationEvents.slice(0,D)),x(w)){var T=this._automationEvents[this._automationEvents.length-1];if(R!==void 0&&p(R)){if(T!==void 0&&y(T))throw new Error("The internal list is malformed.");var V=T===void 0?R.insertTime:f(T)?T.startTime+T.duration:A(T),q=T===void 0?this._defaultValue:f(T)?T.values[T.values.length-1]:T.value,ce=i(R)?_(S,V,q,R):M(S,V,q,R),ue=i(R)?n(ce,S,this._currenTime):s(ce,S,this._currenTime);this._automationEvents.push(ue)}if(T!==void 0&&y(T)&&this._automationEvents.push(u(this.getValue(S),S)),T!==void 0&&f(T)&&T.startTime+T.duration>S){var G=S-T.startTime,Y=(T.values.length-1)/T.duration,re=Math.max(2,1+Math.ceil(G*Y)),W=G/(re-1)*Y,xe=T.values.slice(0,re);if(W<1)for(var me=1;me<re;me+=1){var Re=W*me%1;xe[me]=T.values[me-1]*(1-Re)+T.values[me]*Re}this._automationEvents[this._automationEvents.length-1]=a(xe,T.startTime,G)}}}else{var Ne=this._automationEvents.findIndex(function(k){return A(k)>S}),Ke=Ne===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[Ne-1];if(Ke!==void 0&&f(Ke)&&A(Ke)+Ke.duration>S)return!1;var St=i(w)?n(w.value,w.endTime,this._currenTime):l(w)?s(w.value,S,this._currenTime):w;if(Ne===-1)this._automationEvents.push(St);else{if(f(w)&&S+w.duration>A(this._automationEvents[Ne]))return!1;this._automationEvents.splice(Ne,0,St)}}return!0}},{key:"flush",value:function(w){var S=this._automationEvents.findIndex(function(T){return A(T)>w});if(S>1){var D=this._automationEvents.slice(S-1),R=D[0];y(R)&&D.unshift(u(d(this._automationEvents,S-2,R.startTime,this._defaultValue),R.startTime)),this._automationEvents=D}}},{key:"getValue",value:function(w){if(this._automationEvents.length===0)return this._defaultValue;var S=this._automationEvents.findIndex(function(xe){return A(xe)>w}),D=this._automationEvents[S],R=(S===-1?this._automationEvents.length:S)-1,T=this._automationEvents[R];if(T!==void 0&&y(T)&&(D===void 0||!p(D)||D.insertTime>w))return c(w,d(this._automationEvents,R-1,T.startTime,this._defaultValue),T);if(T!==void 0&&m(T)&&(D===void 0||!p(D)))return T.value;if(T!==void 0&&f(T)&&(D===void 0||!p(D)||T.startTime+T.duration>w))return w<T.startTime+T.duration?g(w,T):T.values[T.values.length-1];if(T!==void 0&&p(T)&&(D===void 0||!p(D)))return T.value;if(D!==void 0&&i(D)){var V=h(this._automationEvents,R,T,D,this._defaultValue),q=t(V,2),ce=q[0],ue=q[1];return _(w,ce,ue,D)}if(D!==void 0&&l(D)){var G=h(this._automationEvents,R,T,D,this._defaultValue),Y=t(G,2),re=Y[0],W=Y[1];return M(w,re,W,D)}return this._defaultValue}}])}(),F=function(O){return{cancelTime:O,type:"cancelAndHold"}},b=function(O){return{cancelTime:O,type:"cancelScheduledValues"}},E=function(O,w){return{endTime:w,type:"exponentialRampToValue",value:O}},I=function(O,w){return{endTime:w,type:"linearRampToValue",value:O}},L=function(O,w,S){return{startTime:w,target:O,timeConstant:S,type:"setTarget"}};e.AutomationEventList=C,e.createCancelAndHoldAutomationEvent=F,e.createCancelScheduledValuesAutomationEvent=b,e.createExponentialRampToValueAutomationEvent=E,e.createLinearRampToValueAutomationEvent=I,e.createSetTargetAutomationEvent=L,e.createSetValueAutomationEvent=u,e.createSetValueCurveAutomationEvent=a})});var Vc={};_t(Vc,{analyze:()=>Lc,guess:()=>Wc});var Or=Xt(Er());var he=Xt(Kt());var $r=()=>new DOMException("","AbortError");var Jr=e=>(t,r,[o,n,s],u)=>{e(t[n],[r,o,s],a=>a[0]===r&&a[1]===o,u)};var eo=e=>(t,r,o)=>{let n=[];for(let s=0;s<o.numberOfInputs;s+=1)n.push(new Set);e.set(t,{activeInputs:n,outputs:new Set,passiveInputs:new WeakMap,renderer:r})};var to=e=>(t,r)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:r})};var Ie=new WeakSet,Mt=new WeakMap,Qe=new WeakMap,Et=new WeakMap,Nt=new WeakMap,$e=new WeakMap,bt=new WeakMap,vt=new WeakMap,Ct=new WeakMap,gt=new WeakMap;var ro={construct(){return ro}},oo=e=>{try{let t=new Proxy(e,ro);new t}catch{return!1}return!0};var no=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Qt=(e,t)=>{let r=[],o=e.replace(/^[\s]+/,""),n=o.match(no);for(;n!==null;){let s=n[1].slice(1,-1),u=n[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,t).toString());r.push(u),o=o.slice(n[0].length).replace(/^[\s]+/,""),n=o.match(no)}return[r.join(";"),o]};var ao=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},so=e=>{if(!oo(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},io=(e,t,r,o,n,s,u,a,c,i,l,p,m)=>{let f=0;return(d,h,x={credentials:"omit"})=>{let N=l.get(d);if(N!==void 0&&N.has(h))return Promise.resolve();let A=i.get(d);if(A!==void 0){let v=A.get(h);if(v!==void 0)return v}let _=s(d),M=_.audioWorklet===void 0?n(h).then(([v,g])=>{let[y,C]=Qt(v,g),F=`${y};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${C}
})})(window,'_AWGS')`;return r(F)}).then(()=>{let v=m._AWGS.pop();if(v===void 0)throw new SyntaxError;o(_.currentTime,_.sampleRate,()=>v(class{},void 0,(g,y)=>{if(g.trim()==="")throw t();let C=Ct.get(_);if(C!==void 0){if(C.has(g))throw t();so(y),ao(y.parameterDescriptors),C.set(g,y)}else so(y),ao(y.parameterDescriptors),Ct.set(_,new Map([[g,y]]))},_.sampleRate,void 0,void 0))}):Promise.all([n(h),Promise.resolve(e(p,p))]).then(([[v,g],y])=>{let C=f+1;f=C;let[F,b]=Qt(v,g),P=`${F};((AudioWorkletProcessor,registerProcessor)=>{${b}
})(${y?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${y?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${y?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${C}',class extends AudioWorkletProcessor{process(){return !1}})`,O=new Blob([P],{type:"application/javascript; charset=utf-8"}),w=URL.createObjectURL(O);return _.audioWorklet.addModule(w,x).then(()=>{if(a(_))return _;let S=u(_);return S.audioWorklet.addModule(w,x).then(()=>S)}).then(S=>{if(c===null)throw new SyntaxError;try{new c(S,`__sac${C}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(w))});return A===void 0?i.set(d,new Map([[h,M]])):A.set(h,M),M.then(()=>{let v=l.get(d);v===void 0?l.set(d,new Set([h])):v.add(h)}).finally(()=>{let v=i.get(d);v!==void 0&&v.delete(h)}),M}};var ae=(e,t)=>{let r=e.get(t);if(r===void 0)throw new Error("A value with the given key could not be found.");return r};var We=(e,t)=>{let r=Array.from(e).filter(t);if(r.length>1)throw Error("More than one element was found.");if(r.length===0)throw Error("No element was found.");let[o]=r;return e.delete(o),o};var Pt=(e,t,r,o)=>{let n=ae(e,t),s=We(n,u=>u[0]===r&&u[1]===o);return n.size===0&&e.delete(t),s};var Me=e=>ae(bt,e);var we=e=>{if(Ie.has(e))throw new Error("The AudioNode is already stored.");Ie.add(e),Me(e).forEach(t=>t(!0))};var Ft=e=>"port"in e;var Ee=e=>{if(!Ie.has(e))throw new Error("The AudioNode is not stored.");Ie.delete(e),Me(e).forEach(t=>t(!1))};var yt=(e,t)=>{!Ft(e)&&t.every(r=>r.size===0)&&Ee(e)};var co=(e,t,r,o,n,s,u,a,c,i,l,p,m)=>{let f=new WeakMap;return(d,h,x,N,A)=>{let{activeInputs:_,passiveInputs:M}=s(h),{outputs:v}=s(d),g=a(d),y=C=>{let F=c(h),b=c(d);if(C){let E=Pt(M,d,x,N);e(_,d,E,!1),!A&&!p(d)&&r(b,F,x,N),m(h)&&we(h)}else{let E=o(_,d,x,N);t(M,N,E,!1),!A&&!p(d)&&n(b,F,x,N);let I=u(h);if(I===0)l(h)&&yt(h,_);else{let L=f.get(h);L!==void 0&&clearTimeout(L),f.set(h,setTimeout(()=>{l(h)&&yt(h,_)},I*1e3))}}};return i(v,[h,x,N],C=>C[0]===h&&C[1]===x&&C[2]===N,!0)?(g.add(y),l(d)?e(_,d,[x,N,y],!0):t(M,N,[d,x,y],!0),!0):!1}};var uo=e=>(t,r,[o,n,s],u)=>{let a=t.get(o);a===void 0?t.set(o,new Set([[n,r,s]])):e(a,[n,r,s],c=>c[0]===n&&c[1]===r,u)};var lo=e=>(t,r)=>{let o=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.connect(o).connect(t.destination);let n=()=>{r.removeEventListener("ended",n),r.disconnect(o),o.disconnect()};r.addEventListener("ended",n)};var po=e=>(t,r)=>{e(t).add(r)};var Qs={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},fo=(e,t,r,o,n,s)=>class extends e{constructor(a,c){let i=n(a),l={...Qs,...c},p=o(i,l),m=s(i)?t():null;super(a,!1,p,m),this._nativeAnalyserNode=p}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){let c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,r()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){let c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,r()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}};var j=(e,t)=>e.context===t;var mo=(e,t,r)=>()=>{let o=new WeakMap,n=async(s,u)=>{let a=t(s);if(!j(a,u)){let i={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=e(u,i)}return o.set(u,a),await r(s,u,a),a};return{render(s,u){let a=o.get(u);return a!==void 0?Promise.resolve(a):n(s,u)}}};var Je=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0};var Ce=()=>new DOMException("","IndexSizeError");var et=e=>{e.getChannelData=(t=>r=>{try{return t.call(e,r)}catch(o){throw o.code===12?Ce():o}})(e.getChannelData)};var $s={numberOfChannels:1},ho=(e,t,r,o,n,s,u,a)=>{let c=null;return class xo{constructor(l){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");let{length:p,numberOfChannels:m,sampleRate:f}={...$s,...l};c===null&&(c=new n(1,1,44100));let d=o!==null&&t(s,s)?new o({length:p,numberOfChannels:m,sampleRate:f}):c.createBuffer(m,p,f);if(d.numberOfChannels===0)throw r();return typeof d.copyFromChannel!="function"?(u(d),et(d)):t(Je,()=>Je(d))||a(d),e.add(d),d}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===xo.prototype||e.has(l)}}};var oe=-34028234663852886e22,te=-oe;var de=e=>Ie.has(e);var Js={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},No=(e,t,r,o,n,s,u,a)=>class extends e{constructor(i,l){let p=s(i),m={...Js,...l},f=n(p,m),d=u(p),h=d?t():null;super(i,!1,f,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=m.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=r(this,d,f.playbackRate,te,oe)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(i){if(this._nativeAudioBufferSourceNode.buffer=i,i!==null){if(this._isBufferSet)throw o();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(i){this._nativeAudioBufferSourceNode.loop=i}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(i){this._nativeAudioBufferSourceNode.loopEnd=i}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(i){this._nativeAudioBufferSourceNode.loopStart=i}get onended(){return this._onended}set onended(i){let l=typeof i=="function"?a(this,i):null;this._nativeAudioBufferSourceNode.onended=l;let p=this._nativeAudioBufferSourceNode.onended;this._onended=p!==null&&p===l?i:p}get playbackRate(){return this._playbackRate}start(i=0,l=0,p){if(this._nativeAudioBufferSourceNode.start(i,l,p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=p===void 0?[i,l]:[i,l,p]),this.context.state!=="closed"){we(this);let m=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",m),de(this)&&Ee(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",m)}}stop(i=0){this._nativeAudioBufferSourceNode.stop(i),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=i)}};var vo=(e,t,r,o,n)=>()=>{let s=new WeakMap,u=null,a=null,c=async(i,l)=>{let p=r(i),m=j(p,l);if(!m){let f={buffer:p.buffer,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,loop:p.loop,loopEnd:p.loopEnd,loopStart:p.loopStart,playbackRate:p.playbackRate.value};p=t(l,f),u!==null&&p.start(...u),a!==null&&p.stop(a)}return s.set(l,p),m?await e(l,i.playbackRate,p.playbackRate):await o(l,i.playbackRate,p.playbackRate),await n(i,l,p),p};return{set start(i){u=i},set stop(i){a=i},render(i,l){let p=s.get(l);return p!==void 0?Promise.resolve(p):c(i,l)}}};var Co=e=>"playbackRate"in e;var go=e=>"frequency"in e&&"gain"in e;var yo=e=>"offset"in e;var Ao=e=>!("frequency"in e)&&"gain"in e;var So=e=>"detune"in e&&"frequency"in e&&!("gain"in e);var wo=e=>"pan"in e;var ie=e=>ae(Mt,e);var Ve=e=>ae(Et,e);var Rt=(e,t)=>{let{activeInputs:r}=ie(e);r.forEach(n=>n.forEach(([s])=>{t.includes(e)||Rt(s,[...t,e])}));let o=Co(e)?[e.playbackRate]:Ft(e)?Array.from(e.parameters.values()):go(e)?[e.Q,e.detune,e.frequency,e.gain]:yo(e)?[e.offset]:Ao(e)?[e.gain]:So(e)?[e.detune,e.frequency]:wo(e)?[e.pan]:[];for(let n of o){let s=Ve(n);s!==void 0&&s.activeInputs.forEach(([u])=>Rt(u,t))}de(e)&&Ee(e)};var Be=e=>{Rt(e.destination,[])};var Dt=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback");var _o=(e,t,r,o,n,s,u,a,c)=>class extends e{constructor(l={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let p;try{p=new c(l)}catch(d){throw d.code===12&&d.message==="sampleRate is not in range"?r():d}if(p===null)throw o();if(!Dt(l.latencyHint))throw new TypeError(`The provided value '${l.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(l.sampleRate!==void 0&&p.sampleRate!==l.sampleRate)throw r();super(p,2);let{latencyHint:m}=l,{sampleRate:f}=p;if(this._baseLatency=typeof p.baseLatency=="number"?p.baseLatency:m==="balanced"?512/f:m==="interactive"||m===void 0?256/f:m==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(m*f/128)))*128/f,this._nativeAudioContext=p,c.name==="webkitAudioContext"?(this._nativeGainNode=p.createGain(),this._nativeOscillatorNode=p.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(p.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,p.state==="running"){this._state="suspended";let d=()=>{this._state==="suspended"&&(this._state=null),p.removeEventListener("statechange",d)};p.addEventListener("statechange",d)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Be(this)}))}createMediaElementSource(l){return new n(this,{mediaElement:l})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(l){return new u(this,{mediaStream:l})}createMediaStreamTrackSource(l){return new a(this,{mediaStreamTrack:l})}resume(){return this._state==="suspended"?new Promise((l,p)=>{let m=()=>{this._nativeAudioContext.removeEventListener("statechange",m),this._nativeAudioContext.state==="running"?l():this.resume().then(l,p)};this._nativeAudioContext.addEventListener("statechange",m)}):this._nativeAudioContext.resume().catch(l=>{throw l===void 0||l.code===15?t():l})}suspend(){return this._nativeAudioContext.suspend().catch(l=>{throw l===void 0?t():l})}};var Oo=(e,t,r,o,n,s,u,a)=>class extends e{constructor(i,l){let p=s(i),m=u(p),f=n(p,l,m),d=m?t(a):null;super(i,!1,f,d),this._isNodeOfNativeOfflineAudioContext=m,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(i){if(this._isNodeOfNativeOfflineAudioContext)throw o();if(i>this._nativeAudioDestinationNode.maxChannelCount)throw r();this._nativeAudioDestinationNode.channelCount=i}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(i){if(this._isNodeOfNativeOfflineAudioContext)throw o();this._nativeAudioDestinationNode.channelCountMode=i}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}};var To=e=>{let t=new WeakMap,r=async(o,n)=>{let s=n.destination;return t.set(n,s),await e(o,n,s),s};return{render(o,n){let s=t.get(n);return s!==void 0?Promise.resolve(s):r(o,n)}}};var Io=(e,t,r,o,n,s,u,a)=>(c,i)=>{let l=i.listener,p=()=>{let v=new Float32Array(1),g=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),y=u(i),C=!1,F=[0,0,-1,0,1,0],b=[0,0,0],E=()=>{if(C)return;C=!0;let O=o(i,256,9,0);O.onaudioprocess=({inputBuffer:w})=>{let S=[s(w,v,0),s(w,v,1),s(w,v,2),s(w,v,3),s(w,v,4),s(w,v,5)];S.some((R,T)=>R!==F[T])&&(l.setOrientation(...S),F=S);let D=[s(w,v,6),s(w,v,7),s(w,v,8)];D.some((R,T)=>R!==b[T])&&(l.setPosition(...D),b=D)},g.connect(O)},I=O=>w=>{w!==F[O]&&(F[O]=w,l.setOrientation(...F))},L=O=>w=>{w!==b[O]&&(b[O]=w,l.setPosition(...b))},P=(O,w,S)=>{let D=r(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w});D.connect(g,0,O),D.start(),Object.defineProperty(D.offset,"defaultValue",{get(){return w}});let R=e({context:c},y,D.offset,te,oe);return a(R,"value",T=>()=>T.call(R),T=>V=>{try{T.call(R,V)}catch(q){if(q.code!==9)throw q}E(),y&&S(V)}),R.cancelAndHoldAtTime=(T=>y?()=>{throw n()}:(...V)=>{let q=T.apply(R,V);return E(),q})(R.cancelAndHoldAtTime),R.cancelScheduledValues=(T=>y?()=>{throw n()}:(...V)=>{let q=T.apply(R,V);return E(),q})(R.cancelScheduledValues),R.exponentialRampToValueAtTime=(T=>y?()=>{throw n()}:(...V)=>{let q=T.apply(R,V);return E(),q})(R.exponentialRampToValueAtTime),R.linearRampToValueAtTime=(T=>y?()=>{throw n()}:(...V)=>{let q=T.apply(R,V);return E(),q})(R.linearRampToValueAtTime),R.setTargetAtTime=(T=>y?()=>{throw n()}:(...V)=>{let q=T.apply(R,V);return E(),q})(R.setTargetAtTime),R.setValueAtTime=(T=>y?()=>{throw n()}:(...V)=>{let q=T.apply(R,V);return E(),q})(R.setValueAtTime),R.setValueCurveAtTime=(T=>y?()=>{throw n()}:(...V)=>{let q=T.apply(R,V);return E(),q})(R.setValueCurveAtTime),R};return{forwardX:P(0,0,I(0)),forwardY:P(1,0,I(1)),forwardZ:P(2,-1,I(2)),positionX:P(6,0,L(0)),positionY:P(7,0,L(1)),positionZ:P(8,0,L(2)),upX:P(3,0,I(3)),upY:P(4,1,I(4)),upZ:P(5,0,I(5))}},{forwardX:m,forwardY:f,forwardZ:d,positionX:h,positionY:x,positionZ:N,upX:A,upY:_,upZ:M}=l.forwardX===void 0?p():l;return{get forwardX(){return m},get forwardY(){return f},get forwardZ(){return d},get positionX(){return h},get positionY(){return x},get positionZ(){return N},get upX(){return A},get upY(){return _},get upZ(){return M}}};var Ze=e=>"context"in e;var Ge=e=>Ze(e[0]);var _e=(e,t,r,o)=>{for(let n of e)if(r(n)){if(o)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0};var $t=(e,t,[r,o],n)=>{_e(e,[t,r,o],s=>s[0]===t&&s[1]===r,n)};var Jt=(e,[t,r,o],n)=>{let s=e.get(t);s===void 0?e.set(t,new Set([[r,o]])):_e(s,[r,o],u=>u[0]===r,n)};var ge=e=>"inputs"in e;var tt=(e,t,r,o)=>{if(ge(t)){let n=t.inputs[o];return e.connect(n,r,0),[n,r,0]}return e.connect(t,r,o),[t,r,o]};var er=(e,t,r)=>{for(let o of e)if(o[0]===t&&o[1]===r)return e.delete(o),o;return null};var Mo=(e,t,r)=>We(e,o=>o[0]===t&&o[1]===r);var tr=(e,t)=>{if(!Me(e).delete(t))throw new Error("Missing the expected event listener.")};var rr=(e,t,r)=>{let o=ae(e,t),n=We(o,s=>s[0]===r);return o.size===0&&e.delete(t),n};var rt=(e,t,r,o)=>{ge(t)?e.disconnect(t.inputs[o],r,0):e.disconnect(t,r,o)};var H=e=>ae(Qe,e);var ze=e=>ae(Nt,e);var De=e=>vt.has(e);var ot=e=>!Ie.has(e);var or=(e,t)=>new Promise(r=>{if(t!==null)r(!0);else{let o=e.createScriptProcessor(256,1,1),n=e.createGain(),s=e.createBuffer(1,2,44100),u=s.getChannelData(0);u[0]=1,u[1]=1;let a=e.createBufferSource();a.buffer=s,a.loop=!0,a.connect(o).connect(e.destination),a.connect(n),a.disconnect(n),o.onaudioprocess=c=>{let i=c.inputBuffer.getChannelData(0);Array.prototype.some.call(i,l=>l===1)?r(!0):r(!1),a.stop(),o.onaudioprocess=null,a.disconnect(o),o.disconnect(e.destination)},a.start()}});var kt=(e,t)=>{let r=new Map;for(let o of e)for(let n of o){let s=r.get(n);r.set(n,s===void 0?1:s+1)}r.forEach((o,n)=>t(n,o))};var Xe=e=>"context"in e;var Eo=e=>{let t=new Map;e.connect=(r=>(o,n=0,s=0)=>{let u=Xe(o)?r(o,n,s):r(o,n),a=t.get(o);return a===void 0?t.set(o,[{input:s,output:n}]):a.every(c=>c.input!==s||c.output!==n)&&a.push({input:s,output:n}),u})(e.connect.bind(e)),e.disconnect=(r=>(o,n,s)=>{if(r.apply(e),o===void 0)t.clear();else if(typeof o=="number")for(let[u,a]of t){let c=a.filter(i=>i.output!==o);c.length===0?t.delete(u):t.set(u,c)}else if(t.has(o))if(n===void 0)t.delete(o);else{let u=t.get(o);if(u!==void 0){let a=u.filter(c=>c.output!==n&&(c.input!==s||s===void 0));a.length===0?t.delete(o):t.set(o,a)}}for(let[u,a]of t)a.forEach(c=>{Xe(u)?e.connect(u,c.output,c.input):e.connect(u,c.output)})})(e.disconnect)};var ei=(e,t,r,o)=>{let{activeInputs:n,passiveInputs:s}=Ve(t),{outputs:u}=ie(e),a=Me(e),c=i=>{let l=H(e),p=ze(t);if(i){let m=rr(s,e,r);$t(n,e,m,!1),!o&&!De(e)&&l.connect(p,r)}else{let m=Mo(n,e,r);Jt(s,m,!1),!o&&!De(e)&&l.disconnect(p,r)}};return _e(u,[t,r],i=>i[0]===t&&i[1]===r,!0)?(a.add(c),de(e)?$t(n,e,[r,c],!0):Jt(s,[e,r,c],!0),!0):!1},ti=(e,t,r,o)=>{let{activeInputs:n,passiveInputs:s}=ie(t),u=er(n[o],e,r);return u===null?[Pt(s,e,r,o)[2],!1]:[u[2],!0]},ri=(e,t,r)=>{let{activeInputs:o,passiveInputs:n}=Ve(t),s=er(o,e,r);return s===null?[rr(n,e,r)[1],!1]:[s[2],!0]},nr=(e,t,r,o,n)=>{let[s,u]=ti(e,r,o,n);if(s!==null&&(tr(e,s),u&&!t&&!De(e)&&rt(H(e),H(r),o,n)),de(r)){let{activeInputs:a}=ie(r);yt(r,a)}},ar=(e,t,r,o)=>{let[n,s]=ri(e,r,o);n!==null&&(tr(e,n),s&&!t&&!De(e)&&H(e).disconnect(ze(r),o))},oi=(e,t)=>{let r=ie(e),o=[];for(let n of r.outputs)Ge(n)?nr(e,t,...n):ar(e,t,...n),o.push(n[0]);return r.outputs.clear(),o},ni=(e,t,r)=>{let o=ie(e),n=[];for(let s of o.outputs)s[1]===r&&(Ge(s)?nr(e,t,...s):ar(e,t,...s),n.push(s[0]),o.outputs.delete(s));return n},ai=(e,t,r,o,n)=>{let s=ie(e);return Array.from(s.outputs).filter(u=>u[0]===r&&(o===void 0||u[1]===o)&&(n===void 0||u[2]===n)).map(u=>(Ge(u)?nr(e,t,...u):ar(e,t,...u),s.outputs.delete(u),u[0]))},bo=(e,t,r,o,n,s,u,a,c,i,l,p,m,f,d,h)=>class extends i{constructor(N,A,_,M){super(_),this._context=N,this._nativeAudioNode=_;let v=l(N);p(v)&&r(or,()=>or(v,h))!==!0&&Eo(_),Qe.set(this,_),bt.set(this,new Set),N.state!=="closed"&&A&&we(this),e(this,M,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(N){this._nativeAudioNode.channelCount=N}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(N){this._nativeAudioNode.channelCountMode=N}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(N){this._nativeAudioNode.channelInterpretation=N}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(N,A=0,_=0){if(A<0||A>=this._nativeAudioNode.numberOfOutputs)throw n();let M=l(this._context),v=d(M);if(m(N)||f(N))throw s();if(Ze(N)){let C=H(N);try{let b=tt(this._nativeAudioNode,C,A,_),E=ot(this);(v||E)&&this._nativeAudioNode.disconnect(...b),this.context.state!=="closed"&&!E&&ot(N)&&we(N)}catch(b){throw b.code===12?s():b}if(t(this,N,A,_,v)){let b=c([this],N);kt(b,o(v))}return N}let g=ze(N);if(g.name==="playbackRate"&&g.maxValue===1024)throw u();try{this._nativeAudioNode.connect(g,A),(v||ot(this))&&this._nativeAudioNode.disconnect(g,A)}catch(C){throw C.code===12?s():C}if(ei(this,N,A,v)){let C=c([this],N);kt(C,o(v))}}disconnect(N,A,_){let M,v=l(this._context),g=d(v);if(N===void 0)M=oi(this,g);else if(typeof N=="number"){if(N<0||N>=this.numberOfOutputs)throw n();M=ni(this,g,N)}else{if(A!==void 0&&(A<0||A>=this.numberOfOutputs)||Ze(N)&&_!==void 0&&(_<0||_>=N.numberOfInputs))throw n();if(M=ai(this,g,N,A,_),M.length===0)throw s()}for(let y of M){let C=c([this],y);kt(C,a)}}};var Po=Xt(Kt()),Fo=(e,t,r,o,n,s,u,a,c,i,l,p,m)=>(f,d,h,x=null,N=null)=>{let A=h.value,_=new Po.AutomationEventList(A),M=d?o(_):null,v={get defaultValue(){return A},get maxValue(){return x===null?h.maxValue:x},get minValue(){return N===null?h.minValue:N},get value(){return h.value},set value(g){h.value=g,v.setValueAtTime(g,f.context.currentTime)},cancelAndHoldAtTime(g){if(typeof h.cancelAndHoldAtTime=="function")M===null&&_.flush(f.context.currentTime),_.add(n(g)),h.cancelAndHoldAtTime(g);else{let y=Array.from(_).pop();M===null&&_.flush(f.context.currentTime),_.add(n(g));let C=Array.from(_).pop();h.cancelScheduledValues(g),y!==C&&C!==void 0&&(C.type==="exponentialRampToValue"?h.exponentialRampToValueAtTime(C.value,C.endTime):C.type==="linearRampToValue"?h.linearRampToValueAtTime(C.value,C.endTime):C.type==="setValue"?h.setValueAtTime(C.value,C.startTime):C.type==="setValueCurve"&&h.setValueCurveAtTime(C.values,C.startTime,C.duration))}return v},cancelScheduledValues(g){return M===null&&_.flush(f.context.currentTime),_.add(s(g)),h.cancelScheduledValues(g),v},exponentialRampToValueAtTime(g,y){if(g===0)throw new RangeError;if(!Number.isFinite(y)||y<0)throw new RangeError;let C=f.context.currentTime;return M===null&&_.flush(C),Array.from(_).length===0&&(_.add(i(A,C)),h.setValueAtTime(A,C)),_.add(u(g,y)),h.exponentialRampToValueAtTime(g,y),v},linearRampToValueAtTime(g,y){let C=f.context.currentTime;return M===null&&_.flush(C),Array.from(_).length===0&&(_.add(i(A,C)),h.setValueAtTime(A,C)),_.add(a(g,y)),h.linearRampToValueAtTime(g,y),v},setTargetAtTime(g,y,C){return M===null&&_.flush(f.context.currentTime),_.add(c(g,y,C)),h.setTargetAtTime(g,y,C),v},setValueAtTime(g,y){return M===null&&_.flush(f.context.currentTime),_.add(i(g,y)),h.setValueAtTime(g,y),v},setValueCurveAtTime(g,y,C){let F=g instanceof Float32Array?g:new Float32Array(g);if(p!==null&&p.name==="webkitAudioContext"){let b=y+C,E=f.context.sampleRate,I=Math.ceil(y*E),L=Math.floor(b*E),P=L-I,O=new Float32Array(P);for(let S=0;S<P;S+=1){let D=(F.length-1)/C*((I+S)/E-y),R=Math.floor(D),T=Math.ceil(D);O[S]=R===T?F[R]:(1-(D-R))*F[R]+(1-(T-D))*F[T]}M===null&&_.flush(f.context.currentTime),_.add(l(O,y,C)),h.setValueCurveAtTime(O,y,C);let w=L/E;w<b&&m(v,O[O.length-1],w),m(v,F[F.length-1],b)}else M===null&&_.flush(f.context.currentTime),_.add(l(F,y,C)),h.setValueCurveAtTime(F,y,C);return v}};return r.set(v,h),t.set(v,f),e(v,M),v};var Ro=e=>({replay(t){for(let r of e)if(r.type==="exponentialRampToValue"){let{endTime:o,value:n}=r;t.exponentialRampToValueAtTime(n,o)}else if(r.type==="linearRampToValue"){let{endTime:o,value:n}=r;t.linearRampToValueAtTime(n,o)}else if(r.type==="setTarget"){let{startTime:o,target:n,timeConstant:s}=r;t.setTargetAtTime(n,o,s)}else if(r.type==="setValue"){let{startTime:o,value:n}=r;t.setValueAtTime(n,o)}else if(r.type==="setValueCurve"){let{duration:o,startTime:n,values:s}=r;t.setValueCurveAtTime(s,n,o)}else throw new Error("Can't apply an unknown automation.")}});var nt=class{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,r=null){return this._map.forEach((o,n)=>t.call(r,o,n,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}};var si={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Do=(e,t,r,o,n,s,u,a,c,i,l,p,m,f)=>class extends t{constructor(h,x,N){var A;let _=a(h),M=c(_),v=l({...si,...N});m(v);let g=Ct.get(_),y=g?.get(x),C=M||_.state!=="closed"?_:(A=u(_))!==null&&A!==void 0?A:_,F=n(C,M?null:h.baseLatency,i,x,y,v),b=M?o(x,v,y):null;super(h,!0,F,b);let E=[];F.parameters.forEach((L,P)=>{let O=r(this,M,L);E.push([P,O])}),this._nativeAudioWorkletNode=F,this._onprocessorerror=null,this._parameters=new nt(E),M&&e(_,this);let{activeInputs:I}=s(this);p(F,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(h){let x=typeof h=="function"?f(this,h):null;this._nativeAudioWorkletNode.onprocessorerror=x;let N=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=N!==null&&N===x?h:N}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function at(e,t,r,o,n){if(typeof e.copyFromChannel=="function")t[r].byteLength===0&&(t[r]=new Float32Array(128)),e.copyFromChannel(t[r],o,n);else{let s=e.getChannelData(o);if(t[r].byteLength===0)t[r]=s.slice(n,n+128);else{let u=new Float32Array(s.buffer,n*Float32Array.BYTES_PER_ELEMENT,128);t[r].set(u)}}}var Lt=(e,t,r,o,n)=>{typeof e.copyToChannel=="function"?t[r].byteLength!==0&&e.copyToChannel(t[r],o,n):t[r].byteLength!==0&&e.getChannelData(o).set(t[r],n)};var st=(e,t)=>{let r=[];for(let o=0;o<e;o+=1){let n=[],s=typeof t=="number"?t:t[o];for(let u=0;u<s;u+=1)n.push(new Float32Array(128));r.push(n)}return r};var ko=(e,t)=>{let r=ae(gt,e),o=H(t);return ae(r,o)};var ii=async(e,t,r,o,n,s,u)=>{let a=t===null?Math.ceil(e.context.length/128)*128:t.length,c=o.channelCount*o.numberOfInputs,i=n.reduce((x,N)=>x+N,0),l=i===0?null:r.createBuffer(i,a,r.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");let p=ie(e),m=await ko(r,e),f=st(o.numberOfInputs,o.channelCount),d=st(o.numberOfOutputs,n),h=Array.from(e.parameters.keys()).reduce((x,N)=>({...x,[N]:new Float32Array(128)}),{});for(let x=0;x<a;x+=128){if(o.numberOfInputs>0&&t!==null)for(let N=0;N<o.numberOfInputs;N+=1)for(let A=0;A<o.channelCount;A+=1)at(t,f[N],A,A,x);s.parameterDescriptors!==void 0&&t!==null&&s.parameterDescriptors.forEach(({name:N},A)=>{at(t,h,N,c+A,x)});for(let N=0;N<o.numberOfInputs;N+=1)for(let A=0;A<n[N];A+=1)d[N][A].byteLength===0&&(d[N][A]=new Float32Array(128));try{let N=f.map((_,M)=>p.activeInputs[M].size===0?[]:_),A=u(x/r.sampleRate,r.sampleRate,()=>m.process(N,d,h));if(l!==null)for(let _=0,M=0;_<o.numberOfOutputs;_+=1){for(let v=0;v<n[_];v+=1)Lt(l,d[_],v,M+v,x);M+=n[_]}if(!A)break}catch(N){e.dispatchEvent(new ErrorEvent("processorerror",{colno:N.colno,filename:N.filename,lineno:N.lineno,message:N.message}));break}}return l},Lo=(e,t,r,o,n,s,u,a,c,i,l,p,m,f,d,h)=>(x,N,A)=>{let _=new WeakMap,M=null,v=async(g,y)=>{let C=l(g),F=null,b=j(C,y),E=Array.isArray(N.outputChannelCount)?N.outputChannelCount:Array.from(N.outputChannelCount);if(p===null){let I=E.reduce((w,S)=>w+S,0),L=n(y,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),P=[];for(let w=0;w<g.numberOfOutputs;w+=1)P.push(o(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[w]}));let O=u(y,{channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,gain:1});O.connect=t.bind(null,P),O.disconnect=c.bind(null,P),F=[L,P,O]}else b||(C=new p(y,x));if(_.set(y,F===null?C:F[2]),F!==null){if(M===null){if(A===void 0)throw new Error("Missing the processor constructor.");if(m===null)throw new Error("Missing the native OfflineAudioContext constructor.");let S=g.channelCount*g.numberOfInputs,D=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length,R=S+D;M=ii(g,R===0?null:await(async()=>{let V=new m(R,Math.ceil(g.context.length/128)*128,y.sampleRate),q=[],ce=[];for(let Y=0;Y<N.numberOfInputs;Y+=1)q.push(u(V,{channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,gain:1})),ce.push(n(V,{channelCount:N.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:N.channelCount}));let ue=await Promise.all(Array.from(g.parameters.values()).map(async Y=>{let re=s(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Y.value});return await f(V,Y,re.offset),re})),G=o(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,S+D)});for(let Y=0;Y<N.numberOfInputs;Y+=1){q[Y].connect(ce[Y]);for(let re=0;re<N.channelCount;re+=1)ce[Y].connect(G,re,Y*N.channelCount+re)}for(let[Y,re]of ue.entries())re.connect(G,0,S+Y),re.start(0);return G.connect(V.destination),await Promise.all(q.map(Y=>d(g,V,Y))),h(V)})(),y,N,E,A,i)}let I=await M,L=r(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[P,O,w]=F;I!==null&&(L.buffer=I,L.start(0)),L.connect(P);for(let S=0,D=0;S<g.numberOfOutputs;S+=1){let R=O[S];for(let T=0;T<E[S];T+=1)P.connect(R,D+T,T);D+=E[S]}return w}if(b)for(let[I,L]of g.parameters.entries())await e(y,L,C.parameters.get(I));else for(let[I,L]of g.parameters.entries())await f(y,L,C.parameters.get(I));return await d(g,y,C),C};return{render(g,y){a(y,g);let C=_.get(y);return C!==void 0?Promise.resolve(C):v(g,y)}}};var Wo=(e,t,r,o,n,s,u,a,c,i,l,p,m,f,d,h,x,N,A,_)=>class extends d{constructor(v,g){super(v,g),this._nativeContext=v,this._audioWorklet=e===void 0?void 0:{addModule:(y,C)=>e(this,y,C)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new n(this)}createBuffer(v,g,y){return new r({length:g,numberOfChannels:v,sampleRate:y})}createBufferSource(){return new o(this)}createChannelMerger(v=6){return new s(this,{numberOfInputs:v})}createChannelSplitter(v=6){return new u(this,{numberOfOutputs:v})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(v=1){return new l(this,{maxDelayTime:v})}createDynamicsCompressor(){return new p(this)}createGain(){return new m(this)}createIIRFilter(v,g){return new f(this,{feedback:g,feedforward:v})}createOscillator(){return new h(this)}createPanner(){return new x(this)}createPeriodicWave(v,g,y={disableNormalization:!1}){return new N(this,{...y,imag:g,real:v})}createStereoPanner(){return new A(this)}createWaveShaper(){return new _(this)}decodeAudioData(v,g,y){return i(this._nativeContext,v).then(C=>(typeof g=="function"&&g(C),C),C=>{throw typeof y=="function"&&y(C),C})}};var ci={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Vo=(e,t,r,o,n,s,u,a)=>class extends e{constructor(i,l){let p=s(i),m={...ci,...l},f=n(p,m),d=u(p),h=d?r():null;super(i,!1,f,h),this._Q=t(this,d,f.Q,te,oe),this._detune=t(this,d,f.detune,1200*Math.log2(te),-1200*Math.log2(te)),this._frequency=t(this,d,f.frequency,i.sampleRate/2,0),this._gain=t(this,d,f.gain,40*Math.log10(te),oe),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(i){this._nativeBiquadFilterNode.type=i}getFrequencyResponse(i,l,p){try{this._nativeBiquadFilterNode.getFrequencyResponse(i,l,p)}catch(m){throw m.code===11?o():m}if(i.length!==l.length||l.length!==p.length)throw o()}};var Bo=(e,t,r,o,n)=>()=>{let s=new WeakMap,u=async(a,c)=>{let i=r(a),l=j(i,c);if(!l){let p={Q:i.Q.value,channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,detune:i.detune.value,frequency:i.frequency.value,gain:i.gain.value,type:i.type};i=t(c,p)}return s.set(c,i),l?(await e(c,a.Q,i.Q),await e(c,a.detune,i.detune),await e(c,a.frequency,i.frequency),await e(c,a.gain,i.gain)):(await o(c,a.Q,i.Q),await o(c,a.detune,i.detune),await o(c,a.frequency,i.frequency),await o(c,a.gain,i.gain)),await n(a,c,i),i};return{render(a,c){let i=s.get(c);return i!==void 0?Promise.resolve(i):u(a,c)}}};var Go=(e,t)=>(r,o)=>{let n=t.get(r);if(n!==void 0)return n;let s=e.get(r);if(s!==void 0)return s;try{let u=o();return u instanceof Promise?(e.set(r,u),u.catch(()=>!1).then(a=>(e.delete(r),t.set(r,a),a))):(t.set(r,u),u)}catch{return t.set(r,!1),!1}};var ui={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Uo=(e,t,r,o,n)=>class extends e{constructor(u,a){let c=o(u),i={...ui,...a},l=r(c,i),p=n(c)?t():null;super(u,!1,l,p)}};var qo=(e,t,r)=>()=>{let o=new WeakMap,n=async(s,u)=>{let a=t(s);if(!j(a,u)){let i={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=e(u,i)}return o.set(u,a),await r(s,u,a),a};return{render(s,u){let a=o.get(u);return a!==void 0?Promise.resolve(a):n(s,u)}}};var li={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},jo=(e,t,r,o,n,s)=>class extends e{constructor(a,c){let i=o(a),l=s({...li,...c}),p=r(i,l),m=n(i)?t():null;super(a,!1,p,m)}};var Zo=(e,t,r)=>()=>{let o=new WeakMap,n=async(s,u)=>{let a=t(s);if(!j(a,u)){let i={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=e(u,i)}return o.set(u,a),await r(s,u,a),a};return{render(s,u){let a=o.get(u);return a!==void 0?Promise.resolve(a):n(s,u)}}};var zo=e=>(t,r,o)=>e(r,t,o);var Xo=e=>(t,r,o=0,n=0)=>{let s=t[o];if(s===void 0)throw e();return Xe(r)?s.connect(r,0,n):s.connect(r,0)};var Yo=e=>(t,r)=>{let o=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),n=t.createBuffer(1,2,44100);return o.buffer=n,o.loop=!0,o.connect(r),o.start(),()=>{o.stop(),o.disconnect(r)}};var pi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ho=(e,t,r,o,n,s,u)=>class extends e{constructor(c,i){let l=n(c),p={...pi,...i},m=o(l,p),f=s(l),d=f?r():null;super(c,!1,m,d),this._constantSourceNodeRenderer=d,this._nativeConstantSourceNode=m,this._offset=t(this,f,m.offset,te,oe),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){let i=typeof c=="function"?u(this,c):null;this._nativeConstantSourceNode.onended=i;let l=this._nativeConstantSourceNode.onended;this._onended=l!==null&&l===i?c:l}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){we(this);let i=()=>{this._nativeConstantSourceNode.removeEventListener("ended",i),de(this)&&Ee(this)};this._nativeConstantSourceNode.addEventListener("ended",i)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}};var Ko=(e,t,r,o,n)=>()=>{let s=new WeakMap,u=null,a=null,c=async(i,l)=>{let p=r(i),m=j(p,l);if(!m){let f={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,offset:p.offset.value};p=t(l,f),u!==null&&p.start(u),a!==null&&p.stop(a)}return s.set(l,p),m?await e(l,i.offset,p.offset):await o(l,i.offset,p.offset),await n(i,l,p),p};return{set start(i){u=i},set stop(i){a=i},render(i,l){let p=s.get(l);return p!==void 0?Promise.resolve(p):c(i,l)}}};var Qo=e=>t=>(e[0]=t,e[0]);var di={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},$o=(e,t,r,o,n,s)=>class extends e{constructor(a,c){let i=o(a),l={...di,...c},p=r(i,l),f=n(i)?t():null;super(a,!1,p,f),this._isBufferNullified=!1,this._nativeConvolverNode=p,l.buffer!==null&&s(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){let c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}};var Jo=(e,t,r)=>()=>{let o=new WeakMap,n=async(s,u)=>{let a=t(s);if(!j(a,u)){let i={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=e(u,i)}return o.set(u,a),ge(a)?await r(s,u,a.inputs[0]):await r(s,u,a),a};return{render(s,u){let a=o.get(u);return a!==void 0?Promise.resolve(a):n(s,u)}}};var en=(e,t)=>(r,o,n)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(r,o,n)}catch(s){throw s.name==="SyntaxError"?e():s}};var tn=()=>new DOMException("","DataCloneError");var sr=e=>{let{port1:t,port2:r}=new MessageChannel;return new Promise(o=>{let n=()=>{r.onmessage=null,t.close(),r.close(),o()};r.onmessage=()=>n();try{t.postMessage(e,[e])}catch{}finally{n()}})};var rn=(e,t,r,o,n,s,u,a,c,i,l)=>(p,m)=>{let f=u(p)?p:s(p);if(n.has(m)){let d=r();return Promise.reject(d)}try{n.add(m)}catch{}return t(c,()=>c(f))?f.decodeAudioData(m).then(d=>(sr(m).catch(()=>{}),t(a,()=>a(d))||l(d),e.add(d),d)):new Promise((d,h)=>{let x=async()=>{try{await sr(m)}catch{}},N=A=>{h(A),x()};try{f.decodeAudioData(m,A=>{typeof A.copyFromChannel!="function"&&(i(A),et(A)),e.add(A),x().then(()=>d(A))},A=>{N(A===null?o():A)})}catch(A){N(A)}})};var on=(e,t,r,o,n,s,u,a)=>(c,i)=>{let l=t.get(c);if(l===void 0)throw new Error("Missing the expected cycle count.");let p=s(c.context),m=a(p);if(l===i){if(t.delete(c),!m&&u(c)){let f=o(c),{outputs:d}=r(c);for(let h of d)if(Ge(h)){let x=o(h[0]);e(f,x,h[1],h[2])}else{let x=n(h[0]);f.connect(x,h[1])}}}else t.set(c,l-i)};var fi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},nn=(e,t,r,o,n,s,u)=>class extends e{constructor(c,i){let l=n(c),p={...fi,...i},m=o(l,p),f=s(l),d=f?r(p.maxDelayTime):null;super(c,!1,m,d),this._delayTime=t(this,f,m.delayTime),u(this,p.maxDelayTime)}get delayTime(){return this._delayTime}};var an=(e,t,r,o,n)=>s=>{let u=new WeakMap,a=async(c,i)=>{let l=r(c),p=j(l,i);if(!p){let m={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,delayTime:l.delayTime.value,maxDelayTime:s};l=t(i,m)}return u.set(i,l),p?await e(i,c.delayTime,l.delayTime):await o(i,c.delayTime,l.delayTime),await n(c,i,l),l};return{render(c,i){let l=u.get(i);return l!==void 0?Promise.resolve(l):a(c,i)}}};var sn=e=>(t,r,o,n)=>e(t[n],s=>s[0]===r&&s[1]===o);var cn=e=>(t,r)=>{e(t).delete(r)};var un=e=>"delayTime"in e;var ln=(e,t,r)=>function o(n,s){let u=Ze(s)?s:r(e,s);if(un(u))return[];if(n[0]===u)return[n];if(n.includes(u))return[];let{outputs:a}=t(u);return Array.from(a).map(c=>o([...n,u],c[0])).reduce((c,i)=>c.concat(i),[])};var Wt=(e,t,r)=>{let o=t[r];if(o===void 0)throw e();return o},pn=e=>(t,r=void 0,o=void 0,n=0)=>r===void 0?t.forEach(s=>s.disconnect()):typeof r=="number"?Wt(e,t,r).disconnect():Xe(r)?o===void 0?t.forEach(s=>s.disconnect(r)):n===void 0?Wt(e,t,o).disconnect(r,0):Wt(e,t,o).disconnect(r,0,n):o===void 0?t.forEach(s=>s.disconnect(r)):Wt(e,t,o).disconnect(r,0);var mi={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},dn=(e,t,r,o,n,s,u,a)=>class extends e{constructor(i,l){let p=s(i),m={...mi,...l},f=o(p,m),d=u(p),h=d?r():null;super(i,!1,f,h),this._attack=t(this,d,f.attack),this._knee=t(this,d,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=t(this,d,f.ratio),this._release=t(this,d,f.release),this._threshold=t(this,d,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(i){let l=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=i,i>2)throw this._nativeDynamicsCompressorNode.channelCount=l,n()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(i){let l=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=i,i==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=l,n()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}};var fn=(e,t,r,o,n)=>()=>{let s=new WeakMap,u=async(a,c)=>{let i=r(a),l=j(i,c);if(!l){let p={attack:i.attack.value,channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,knee:i.knee.value,ratio:i.ratio.value,release:i.release.value,threshold:i.threshold.value};i=t(c,p)}return s.set(c,i),l?(await e(c,a.attack,i.attack),await e(c,a.knee,i.knee),await e(c,a.ratio,i.ratio),await e(c,a.release,i.release),await e(c,a.threshold,i.threshold)):(await o(c,a.attack,i.attack),await o(c,a.knee,i.knee),await o(c,a.ratio,i.ratio),await o(c,a.release,i.release),await o(c,a.threshold,i.threshold)),await n(a,c,i),i};return{render(a,c){let i=s.get(c);return i!==void 0?Promise.resolve(i):u(a,c)}}};var mn=()=>new DOMException("","EncodingError");var hn=e=>t=>new Promise((r,o)=>{if(e===null){o(new SyntaxError);return}let n=e.document.head;if(n===null)o(new SyntaxError);else{let s=e.document.createElement("script"),u=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(u),c=e.onerror,i=()=>{e.onerror=c,URL.revokeObjectURL(a)};e.onerror=(l,p,m,f,d)=>{if(p===a||p===e.location.href&&m===1&&f===1)return i(),o(d),!1;if(c!==null)return c(l,p,m,f,d)},s.onerror=()=>{i(),o(new SyntaxError)},s.onload=()=>{i(),r()},s.src=a,s.type="module",n.appendChild(s)}});var xn=e=>class{constructor(r){this._nativeEventTarget=r,this._listeners=new WeakMap}addEventListener(r,o,n){if(o!==null){let s=this._listeners.get(o);s===void 0&&(s=e(this,o),typeof o=="function"&&this._listeners.set(o,s)),this._nativeEventTarget.addEventListener(r,s,n)}}dispatchEvent(r){return this._nativeEventTarget.dispatchEvent(r)}removeEventListener(r,o,n){let s=o===null?void 0:this._listeners.get(o);this._nativeEventTarget.removeEventListener(r,s===void 0?null:s,n)}};var Nn=e=>(t,r,o)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(t*r)}},currentTime:{configurable:!0,get(){return t}}});try{return o()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}};var vn=e=>async t=>{try{let r=await fetch(t);if(r.ok)return[await r.text(),r.url]}catch{}throw e()};var hi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Cn=(e,t,r,o,n,s)=>class extends e{constructor(a,c){let i=n(a),l={...hi,...c},p=o(i,l),m=s(i),f=m?r():null;super(a,!1,p,f),this._gain=t(this,m,p.gain,te,oe)}get gain(){return this._gain}};var gn=(e,t,r,o,n)=>()=>{let s=new WeakMap,u=async(a,c)=>{let i=r(a),l=j(i,c);if(!l){let p={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:i.gain.value};i=t(c,p)}return s.set(c,i),l?await e(c,a.gain,i.gain):await o(c,a.gain,i.gain),await n(a,c,i),i};return{render(a,c){let i=s.get(c);return i!==void 0?Promise.resolve(i):u(a,c)}}};var yn=(e,t)=>r=>t(e,r);var An=e=>t=>{let r=e(t);if(r.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return r.renderer};var Sn=e=>t=>{var r;return(r=e.get(t))!==null&&r!==void 0?r:0};var wn=e=>t=>{let r=e(t);if(r.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return r.renderer};var _n=e=>t=>e.get(t);var $=()=>new DOMException("","InvalidStateError");var On=e=>t=>{let r=e.get(t);if(r===void 0)throw $();return r};var Tn=(e,t)=>r=>{let o=e.get(r);if(o!==void 0)return o;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return o=new t(1,1,44100),e.set(r,o),o};var In=e=>t=>{let r=e.get(t);if(r===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return r};var it=()=>new DOMException("","InvalidAccessError");var Mn=e=>{e.getFrequencyResponse=(t=>(r,o,n)=>{if(r.length!==o.length||o.length!==n.length)throw it();return t.call(e,r,o,n)})(e.getFrequencyResponse)};var xi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},En=(e,t,r,o,n,s)=>class extends e{constructor(a,c){let i=o(a),l=n(i),p={...xi,...c},m=t(i,l?null:a.baseLatency,p),f=l?r(p.feedback,p.feedforward):null;super(a,!1,m,f),Mn(m),this._nativeIIRFilterNode=m,s(this,1)}getFrequencyResponse(a,c,i){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,i)}};var Vt=(e,t,r,o,n,s,u,a,c,i,l)=>{let p=i.length,m=a;for(let f=0;f<p;f+=1){let d=r[0]*i[f];for(let h=1;h<n;h+=1){let x=m-h&c-1;d+=r[h]*s[x],d-=e[h]*u[x]}for(let h=n;h<o;h+=1)d+=r[h]*s[m-h&c-1];for(let h=n;h<t;h+=1)d-=e[h]*u[m-h&c-1];s[m]=i[f],u[m]=d,m=m+1&c-1,l[f]=d}return m};var Ni=(e,t,r,o)=>{let n=r instanceof Float64Array?r:new Float64Array(r),s=o instanceof Float64Array?o:new Float64Array(o),u=n.length,a=s.length,c=Math.min(u,a);if(n[0]!==1){for(let d=0;d<u;d+=1)s[d]/=n[0];for(let d=1;d<a;d+=1)n[d]/=n[0]}let i=32,l=new Float32Array(i),p=new Float32Array(i),m=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),f=e.numberOfChannels;for(let d=0;d<f;d+=1){let h=e.getChannelData(d),x=m.getChannelData(d);l.fill(0),p.fill(0),Vt(n,u,s,a,c,l,p,0,i,h,x)}return m},bn=(e,t,r,o,n)=>(s,u)=>{let a=new WeakMap,c=null,i=async(l,p)=>{let m=null,f=t(l),d=j(f,p);if(p.createIIRFilter===void 0?m=e(p,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):d||(f=p.createIIRFilter(u,s)),a.set(p,m===null?f:m),m!==null){if(c===null){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");let x=new r(l.context.destination.channelCount,l.context.length,p.sampleRate);c=(async()=>{await o(l,x,x.destination);let N=await n(x);return Ni(N,p,s,u)})()}let h=await c;return m.buffer=h,m.start(0),m}return await o(l,p,f),f};return{render(l,p){let m=a.get(p);return m!==void 0?Promise.resolve(m):i(l,p)}}};var Pn=(e,t,r,o,n,s)=>u=>(a,c)=>{let i=e.get(a);if(i===void 0){if(!u&&s(a)){let l=o(a),{outputs:p}=r(a);for(let m of p)if(Ge(m)){let f=o(m[0]);t(l,f,m[1],m[2])}else{let f=n(m[0]);l.disconnect(f,m[1])}}e.set(a,c)}else e.set(a,i+c)};var Fn=(e,t)=>r=>{let o=e.get(r);return t(o)||t(r)};var Rn=(e,t)=>r=>e.has(r)||t(r);var Dn=(e,t)=>r=>e.has(r)||t(r);var kn=(e,t)=>r=>{let o=e.get(r);return t(o)||t(r)};var Ln=e=>t=>e!==null&&t instanceof e;var Wn=e=>t=>e!==null&&typeof e.AudioNode=="function"&&t instanceof e.AudioNode;var Vn=e=>t=>e!==null&&typeof e.AudioParam=="function"&&t instanceof e.AudioParam;var Bn=(e,t)=>r=>e(r)||t(r);var Gn=e=>t=>e!==null&&t instanceof e;var Un=e=>e!==null&&e.isSecureContext;var qn=(e,t,r,o)=>class extends e{constructor(s,u){let a=r(s),c=t(a,u);if(o(a))throw TypeError();super(s,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}};var vi={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},jn=(e,t,r,o)=>class extends e{constructor(s,u){let a=r(s);if(o(a))throw new TypeError;let c={...vi,...u},i=t(a,c);super(s,!1,i,null),this._nativeMediaStreamAudioDestinationNode=i}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}};var Zn=(e,t,r,o)=>class extends e{constructor(s,u){let a=r(s),c=t(a,u);if(o(a))throw new TypeError;super(s,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}};var zn=(e,t,r)=>class extends e{constructor(n,s){let u=r(n),a=t(u,s);super(n,!0,a,null)}};var Xn=(e,t,r,o,n)=>class extends o{constructor(u={}){if(n===null)throw new Error("Missing the native AudioContext constructor.");let a;try{a=new n(u)}catch(l){throw l.code===12&&l.message==="sampleRate is not in range"?t():l}if(a===null)throw r();if(!Dt(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&a.sampleRate!==u.sampleRate)throw t();super(a,2);let{latencyHint:c}=u,{sampleRate:i}=a;if(this._baseLatency=typeof a.baseLatency=="number"?a.baseLatency:c==="balanced"?512/i:c==="interactive"||c===void 0?256/i:c==="playback"?1024/i:Math.max(2,Math.min(128,Math.round(c*i/128)))*128/i,this._nativeAudioContext=a,n.name==="webkitAudioContext"?(this._nativeGainNode=a.createGain(),this._nativeOscillatorNode=a.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(a.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,a.state==="running"){this._state="suspended";let l=()=>{this._state==="suspended"&&(this._state=null),a.removeEventListener("statechange",l)};a.addEventListener("statechange",l)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Be(this)}))}resume(){return this._state==="suspended"?new Promise((u,a)=>{let c=()=>{this._nativeAudioContext.removeEventListener("statechange",c),this._nativeAudioContext.state==="running"?u():this.resume().then(u,a)};this._nativeAudioContext.addEventListener("statechange",c)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}};var Yn=(e,t,r,o,n,s)=>class extends r{constructor(a,c){super(a),this._nativeContext=a,$e.set(this,a),o(a)&&n.set(a,new Set),this._destination=new e(this,c),this._listener=t(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){let c=typeof a=="function"?s(this,a):null;this._nativeContext.onstatechange=c;let i=this._nativeContext.onstatechange;this._onstatechange=i!==null&&i===c?a:i}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}};var Oe=e=>{let t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{let r=e.decodeAudioData(t.buffer,()=>{});return r===void 0?!1:(r.catch(()=>{}),!0)}catch{}return!1};var Ci={numberOfChannels:1},Hn=(e,t,r,o,n)=>class extends o{constructor(u){let{length:a,numberOfChannels:c,sampleRate:i}={...Ci,...u},l=r(c,a,i);e(Oe,()=>Oe(l))||l.addEventListener("statechange",(()=>{let p=0,m=f=>{this._state==="running"&&(p>0?(l.removeEventListener("statechange",m),f.stopImmediatePropagation(),this._waitForThePromiseToSettle(f)):p+=1)};return m})()),super(l,c),this._length=a,this._nativeOfflineAudioContext=l,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",n(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Be(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}};var Kn=(e,t)=>(r,o,n)=>{let s=new Set;return r.connect=(u=>(a,c=0,i=0)=>{let l=s.size===0;if(t(a))return u.call(r,a,c,i),e(s,[a,c,i],p=>p[0]===a&&p[1]===c&&p[2]===i,!0),l&&o(),a;u.call(r,a,c),e(s,[a,c],p=>p[0]===a&&p[1]===c,!0),l&&o()})(r.connect),r.disconnect=(u=>(a,c,i)=>{let l=s.size>0;if(a===void 0)u.apply(r),s.clear();else if(typeof a=="number"){u.call(r,a);for(let m of s)m[1]===a&&s.delete(m)}else{t(a)?u.call(r,a,c,i):u.call(r,a,c);for(let m of s)m[0]===a&&(c===void 0||m[1]===c)&&(i===void 0||m[2]===i)&&s.delete(m)}let p=s.size===0;l&&p&&n()})(r.disconnect),r};var Z=(e,t,r)=>{let o=t[r];o!==void 0&&o!==e[r]&&(e[r]=o)};var U=(e,t)=>{Z(e,t,"channelCount"),Z(e,t,"channelCountMode"),Z(e,t,"channelInterpretation")};var ir=e=>typeof e.getFloatTimeDomainData=="function";var Qn=e=>{e.getFloatTimeDomainData=t=>{let r=new Uint8Array(t.length);e.getByteTimeDomainData(r);let o=Math.max(r.length,e.fftSize);for(let n=0;n<o;n+=1)t[n]=(r[n]-128)*.0078125;return t}};var $n=(e,t)=>(r,o)=>{let n=r.createAnalyser();if(U(n,o),!(o.maxDecibels>o.minDecibels))throw t();return Z(n,o,"fftSize"),Z(n,o,"maxDecibels"),Z(n,o,"minDecibels"),Z(n,o,"smoothingTimeConstant"),e(ir,()=>ir(n))||Qn(n),n};var Jn=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null;var X=(e,t,r)=>{let o=t[r];o!==void 0&&o!==e[r].value&&(e[r].value=o)};var ea=e=>{e.start=(t=>{let r=!1;return(o=0,n=0,s)=>{if(r)throw $();t.call(e,o,n,s),r=!0}})(e.start)};var ct=e=>{e.start=(t=>(r=0,o=0,n)=>{if(typeof n=="number"&&n<0||o<0||r<0)throw new RangeError("The parameters can't be negative.");t.call(e,r,o,n)})(e.start)};var ut=e=>{e.stop=(t=>(r=0)=>{if(r<0)throw new RangeError("The parameter can't be negative.");t.call(e,r)})(e.stop)};var ta=(e,t,r,o,n,s,u,a,c,i,l)=>(p,m)=>{let f=p.createBufferSource();return U(f,m),X(f,m,"playbackRate"),Z(f,m,"buffer"),Z(f,m,"loop"),Z(f,m,"loopEnd"),Z(f,m,"loopStart"),t(r,()=>r(p))||ea(f),t(o,()=>o(p))||c(f),t(n,()=>n(p))||i(f,p),t(s,()=>s(p))||ct(f),t(u,()=>u(p))||l(f,p),t(a,()=>a(p))||ut(f),e(p,f),f};var ra=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null;var oa=(e,t)=>(r,o,n)=>{let s=r.destination;if(s.channelCount!==o)try{s.channelCount=o}catch{}n&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:o});let u=e(r,{channelCount:o,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return t(u,"channelCount",a=>()=>a.call(u),a=>c=>{a.call(u,c);try{s.channelCount=c}catch(i){if(c>s.maxChannelCount)throw i}}),t(u,"channelCountMode",a=>()=>a.call(u),a=>c=>{a.call(u,c),s.channelCountMode=c}),t(u,"channelInterpretation",a=>()=>a.call(u),a=>c=>{a.call(u,c),s.channelInterpretation=c}),Object.defineProperty(u,"maxChannelCount",{get:()=>s.maxChannelCount}),u.connect(s),u};var na=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null;var aa=e=>{let{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}};var sa=(e,t,r,o,n)=>(s,u,a,c,i,l)=>{if(a!==null)try{let p=new a(s,c,l),m=new Map,f=null;if(Object.defineProperties(p,{channelCount:{get:()=>l.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>f,set:d=>{typeof f=="function"&&p.removeEventListener("processorerror",f),f=typeof d=="function"?d:null,typeof f=="function"&&p.addEventListener("processorerror",f)}}}),p.addEventListener=(d=>(...h)=>{if(h[0]==="processorerror"){let x=typeof h[1]=="function"?h[1]:typeof h[1]=="object"&&h[1]!==null&&typeof h[1].handleEvent=="function"?h[1].handleEvent:null;if(x!==null){let N=m.get(h[1]);N!==void 0?h[1]=N:(h[1]=A=>{A.type==="error"?(Object.defineProperties(A,{type:{value:"processorerror"}}),x(A)):x(new ErrorEvent(h[0],{...A}))},m.set(x,h[1]))}}return d.call(p,"error",h[1],h[2]),d.call(p,...h)})(p.addEventListener),p.removeEventListener=(d=>(...h)=>{if(h[0]==="processorerror"){let x=m.get(h[1]);x!==void 0&&(m.delete(h[1]),h[1]=x)}return d.call(p,"error",h[1],h[2]),d.call(p,h[0],h[1],h[2])})(p.removeEventListener),l.numberOfOutputs!==0){let d=r(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return p.connect(d).connect(s.destination),n(p,()=>d.disconnect(),()=>d.connect(s.destination))}return p}catch(p){throw p.code===11?o():p}if(i===void 0)throw o();return aa(l),t(s,u,i,l)};var Bt=(e,t)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t)))));var ia=e=>new Promise((t,r)=>{let{port1:o,port2:n}=new MessageChannel;o.onmessage=({data:s})=>{o.close(),n.close(),t(s)},o.onmessageerror=({data:s})=>{o.close(),n.close(),r(s)},n.postMessage(e)});var ca=async(e,t)=>{let r=await ia(t);return new e(r)};var ua=(e,t,r,o)=>{let n=gt.get(e);n===void 0&&(n=new WeakMap,gt.set(e,n));let s=ca(r,o);return n.set(t,s),s};var la=(e,t,r,o,n,s,u,a,c,i,l,p,m)=>(f,d,h,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw c();let N=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(N.some(k=>k<1))throw c();if(N.length!==x.numberOfOutputs)throw t();if(x.channelCountMode!=="explicit")throw c();let A=x.channelCount*x.numberOfInputs,_=N.reduce((k,B)=>k+B,0),M=h.parameterDescriptors===void 0?0:h.parameterDescriptors.length;if(A+M>6||_>6)throw c();let v=new MessageChannel,g=[],y=[];for(let k=0;k<x.numberOfInputs;k+=1)g.push(u(f,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),y.push(n(f,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));let C=[];if(h.parameterDescriptors!==void 0)for(let{defaultValue:k,maxValue:B,minValue:se,name:J}of h.parameterDescriptors){let z=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[J]!==void 0?x.parameterData[J]:k===void 0?0:k});Object.defineProperties(z.offset,{defaultValue:{get:()=>k===void 0?0:k},maxValue:{get:()=>B===void 0?te:B},minValue:{get:()=>se===void 0?oe:se}}),C.push(z)}let F=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,A+M)}),b=Bt(d,f.sampleRate),E=a(f,b,A+M,Math.max(1,_)),I=n(f,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),L=[];for(let k=0;k<x.numberOfOutputs;k+=1)L.push(o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[k]}));for(let k=0;k<x.numberOfInputs;k+=1){g[k].connect(y[k]);for(let B=0;B<x.channelCount;B+=1)y[k].connect(F,B,k*x.channelCount+B)}let P=new nt(h.parameterDescriptors===void 0?[]:h.parameterDescriptors.map(({name:k},B)=>{let se=C[B];return se.connect(F,0,A+B),se.start(0),[k,se.offset]}));F.connect(E);let O=x.channelInterpretation,w=null,S=x.numberOfOutputs===0?[E]:L,D={get bufferSize(){return b},get channelCount(){return x.channelCount},set channelCount(k){throw r()},get channelCountMode(){return x.channelCountMode},set channelCountMode(k){throw r()},get channelInterpretation(){return O},set channelInterpretation(k){for(let B of g)B.channelInterpretation=k;O=k},get context(){return E.context},get inputs(){return g},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return w},set onprocessorerror(k){typeof w=="function"&&D.removeEventListener("processorerror",w),w=typeof k=="function"?k:null,typeof w=="function"&&D.addEventListener("processorerror",w)},get parameters(){return P},get port(){return v.port2},addEventListener(...k){return E.addEventListener(k[0],k[1],k[2])},connect:e.bind(null,S),disconnect:i.bind(null,S),dispatchEvent(...k){return E.dispatchEvent(k[0])},removeEventListener(...k){return E.removeEventListener(k[0],k[1],k[2])}},R=new Map;v.port1.addEventListener=(k=>(...B)=>{if(B[0]==="message"){let se=typeof B[1]=="function"?B[1]:typeof B[1]=="object"&&B[1]!==null&&typeof B[1].handleEvent=="function"?B[1].handleEvent:null;if(se!==null){let J=R.get(B[1]);J!==void 0?B[1]=J:(B[1]=z=>{l(f.currentTime,f.sampleRate,()=>se(z))},R.set(se,B[1]))}}return k.call(v.port1,B[0],B[1],B[2])})(v.port1.addEventListener),v.port1.removeEventListener=(k=>(...B)=>{if(B[0]==="message"){let se=R.get(B[1]);se!==void 0&&(R.delete(B[1]),B[1]=se)}return k.call(v.port1,B[0],B[1],B[2])})(v.port1.removeEventListener);let T=null;Object.defineProperty(v.port1,"onmessage",{get:()=>T,set:k=>{typeof T=="function"&&v.port1.removeEventListener("message",T),T=typeof k=="function"?k:null,typeof T=="function"&&(v.port1.addEventListener("message",T),v.port1.start())}}),h.prototype.port=v.port1;let V=null;ua(f,D,h,x).then(k=>V=k);let ce=st(x.numberOfInputs,x.channelCount),ue=st(x.numberOfOutputs,N),G=h.parameterDescriptors===void 0?[]:h.parameterDescriptors.reduce((k,{name:B})=>({...k,[B]:new Float32Array(128)}),{}),Y=!0,re=()=>{x.numberOfOutputs>0&&E.disconnect(I);for(let k=0,B=0;k<x.numberOfOutputs;k+=1){let se=L[k];for(let J=0;J<N[k];J+=1)I.disconnect(se,B+J,J);B+=N[k]}},W=new Map;E.onaudioprocess=({inputBuffer:k,outputBuffer:B})=>{if(V!==null){let se=p(D);for(let J=0;J<b;J+=128){for(let z=0;z<x.numberOfInputs;z+=1)for(let ee=0;ee<x.channelCount;ee+=1)at(k,ce[z],ee,ee,J);h.parameterDescriptors!==void 0&&h.parameterDescriptors.forEach(({name:z},ee)=>{at(k,G,z,A+ee,J)});for(let z=0;z<x.numberOfInputs;z+=1)for(let ee=0;ee<N[z];ee+=1)ue[z][ee].byteLength===0&&(ue[z][ee]=new Float32Array(128));try{let z=ce.map((ve,Le)=>{if(se[Le].size>0)return W.set(Le,b/128),ve;let zt=W.get(Le);return zt===void 0?[]:(ve.every(Gs=>Gs.every(Us=>Us===0))&&(zt===1?W.delete(Le):W.set(Le,zt-1)),ve)});Y=l(f.currentTime+J/f.sampleRate,f.sampleRate,()=>V.process(z,ue,G));for(let ve=0,Le=0;ve<x.numberOfOutputs;ve+=1){for(let xt=0;xt<N[ve];xt+=1)Lt(B,ue[ve],xt,Le+xt,J);Le+=N[ve]}}catch(z){Y=!1,D.dispatchEvent(new ErrorEvent("processorerror",{colno:z.colno,filename:z.filename,lineno:z.lineno,message:z.message}))}if(!Y){for(let z=0;z<x.numberOfInputs;z+=1){g[z].disconnect(y[z]);for(let ee=0;ee<x.channelCount;ee+=1)y[J].disconnect(F,ee,z*x.channelCount+ee)}if(h.parameterDescriptors!==void 0){let z=h.parameterDescriptors.length;for(let ee=0;ee<z;ee+=1){let ve=C[ee];ve.disconnect(F,0,A+ee),ve.stop()}}F.disconnect(E),E.onaudioprocess=null,xe?re():Ne();break}}}};let xe=!1,me=u(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Re=()=>E.connect(me).connect(f.destination),Ne=()=>{E.disconnect(me),me.disconnect()},Ke=()=>{if(Y){Ne(),x.numberOfOutputs>0&&E.connect(I);for(let k=0,B=0;k<x.numberOfOutputs;k+=1){let se=L[k];for(let J=0;J<N[k];J+=1)I.connect(se,B+J,J);B+=N[k]}}xe=!0},St=()=>{Y&&(Re(),re()),xe=!1};return Re(),m(D,Ke,St)};var cr=(e,t)=>{let r=e.createBiquadFilter();return U(r,t),X(r,t,"Q"),X(r,t,"detune"),X(r,t,"frequency"),X(r,t,"gain"),Z(r,t,"type"),r};var pa=(e,t)=>(r,o)=>{let n=r.createChannelMerger(o.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&t(r,n),U(n,o),n};var da=e=>{let t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:r=>{if(r!==t)throw $()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:r=>{if(r!=="explicit")throw $()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:r=>{if(r!=="discrete")throw $()}})};var lt=(e,t)=>{let r=e.createChannelSplitter(t.numberOfOutputs);return U(r,t),da(r),r};var fa=(e,t,r,o,n)=>(s,u)=>{if(s.createConstantSource===void 0)return r(s,u);let a=s.createConstantSource();return U(a,u),X(a,u,"offset"),t(o,()=>o(s))||ct(a),t(n,()=>n(s))||ut(a),e(s,a),a};var ye=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e);var ma=(e,t,r,o)=>(n,{offset:s,...u})=>{let a=n.createBuffer(1,2,44100),c=t(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=r(n,{...u,gain:s}),l=a.getChannelData(0);l[0]=1,l[1]=1,c.buffer=a,c.loop=!0;let p={get bufferSize(){},get channelCount(){return i.channelCount},set channelCount(d){i.channelCount=d},get channelCountMode(){return i.channelCountMode},set channelCountMode(d){i.channelCountMode=d},get channelInterpretation(){return i.channelInterpretation},set channelInterpretation(d){i.channelInterpretation=d},get context(){return i.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return i.numberOfOutputs},get offset(){return i.gain},get onended(){return c.onended},set onended(d){c.onended=d},addEventListener(...d){return c.addEventListener(d[0],d[1],d[2])},dispatchEvent(...d){return c.dispatchEvent(d[0])},removeEventListener(...d){return c.removeEventListener(d[0],d[1],d[2])},start(d=0){c.start.call(c,d)},stop(d=0){c.stop.call(c,d)}},m=()=>c.connect(i),f=()=>c.disconnect(i);return e(n,c),o(ye(p,i),m,f)};var ha=(e,t)=>(r,o)=>{let n=r.createConvolver();if(U(n,o),o.disableNormalization===n.normalize&&(n.normalize=!o.disableNormalization),Z(n,o,"buffer"),o.channelCount>2||(t(n,"channelCount",s=>()=>s.call(n),s=>u=>{if(u>2)throw e();return s.call(n,u)}),o.channelCountMode==="max"))throw e();return t(n,"channelCountMode",s=>()=>s.call(n),s=>u=>{if(u==="max")throw e();return s.call(n,u)}),n};var ur=(e,t)=>{let r=e.createDelay(t.maxDelayTime);return U(r,t),X(r,t,"delayTime"),r};var xa=e=>(t,r)=>{let o=t.createDynamicsCompressor();if(U(o,r),r.channelCount>2||r.channelCountMode==="max")throw e();return X(o,r,"attack"),X(o,r,"knee"),X(o,r,"ratio"),X(o,r,"release"),X(o,r,"threshold"),o};var fe=(e,t)=>{let r=e.createGain();return U(r,t),X(r,t,"gain"),r};var Na=e=>(t,r,o)=>{if(t.createIIRFilter===void 0)return e(t,r,o);let n=t.createIIRFilter(o.feedforward,o.feedback);return U(n,o),n};function gi(e,t){let r=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/r,(e[1]*t[0]-e[0]*t[1])/r]}function yi(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]}function va(e,t){let r=[0,0];for(let o=e.length-1;o>=0;o-=1)r=yi(r,t),r[0]+=e[o];return r}var Ca=(e,t,r,o)=>(n,s,{channelCount:u,channelCountMode:a,channelInterpretation:c,feedback:i,feedforward:l})=>{let p=Bt(s,n.sampleRate),m=i instanceof Float64Array?i:new Float64Array(i),f=l instanceof Float64Array?l:new Float64Array(l),d=m.length,h=f.length,x=Math.min(d,h);if(d===0||d>20)throw o();if(m[0]===0)throw t();if(h===0||h>20)throw o();if(f[0]===0)throw t();if(m[0]!==1){for(let C=0;C<h;C+=1)f[C]/=m[0];for(let C=1;C<d;C+=1)m[C]/=m[0]}let N=r(n,p,u,u);N.channelCount=u,N.channelCountMode=a,N.channelInterpretation=c;let A=32,_=[],M=[],v=[];for(let C=0;C<u;C+=1){_.push(0);let F=new Float32Array(A),b=new Float32Array(A);F.fill(0),b.fill(0),M.push(F),v.push(b)}N.onaudioprocess=C=>{let F=C.inputBuffer,b=C.outputBuffer,E=F.numberOfChannels;for(let I=0;I<E;I+=1){let L=F.getChannelData(I),P=b.getChannelData(I);_[I]=Vt(m,d,f,h,x,M[I],v[I],_[I],A,L,P)}};let g=n.sampleRate/2;return ye({get bufferSize(){return p},get channelCount(){return N.channelCount},set channelCount(C){N.channelCount=C},get channelCountMode(){return N.channelCountMode},set channelCountMode(C){N.channelCountMode=C},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(C){N.channelInterpretation=C},get context(){return N.context},get inputs(){return[N]},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},addEventListener(...C){return N.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return N.dispatchEvent(C[0])},getFrequencyResponse(C,F,b){if(C.length!==F.length||F.length!==b.length)throw e();let E=C.length;for(let I=0;I<E;I+=1){let L=-Math.PI*(C[I]/g),P=[Math.cos(L),Math.sin(L)],O=va(f,P),w=va(m,P),S=gi(O,w);F[I]=Math.sqrt(S[0]*S[0]+S[1]*S[1]),b[I]=Math.atan2(S[1],S[0])}},removeEventListener(...C){return N.removeEventListener(C[0],C[1],C[2])}},N)};var ga=(e,t)=>e.createMediaElementSource(t.mediaElement);var ya=(e,t)=>{let r=e.createMediaStreamDestination();return U(r,t),r.numberOfOutputs===1&&Object.defineProperty(r,"numberOfOutputs",{get:()=>0}),r};var Aa=(e,{mediaStream:t})=>{let r=t.getAudioTracks();r.sort((s,u)=>s.id<u.id?-1:s.id>u.id?1:0);let o=r.slice(0,1),n=e.createMediaStreamSource(new MediaStream(o));return Object.defineProperty(n,"mediaStream",{value:t}),n};var Sa=(e,t)=>(r,{mediaStreamTrack:o})=>{if(typeof r.createMediaStreamTrackSource=="function")return r.createMediaStreamTrackSource(o);let n=new MediaStream([o]),s=r.createMediaStreamSource(n);if(o.kind!=="audio")throw e();if(t(r))throw new TypeError;return s};var wa=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null;var _a=(e,t,r,o,n,s)=>(u,a)=>{let c=u.createOscillator();return U(c,a),X(c,a,"detune"),X(c,a,"frequency"),a.periodicWave!==void 0?c.setPeriodicWave(a.periodicWave):Z(c,a,"type"),t(r,()=>r(u))||ct(c),t(o,()=>o(u))||s(c,u),t(n,()=>n(u))||ut(c),e(u,c),c};var Oa=e=>(t,r)=>{let o=t.createPanner();return o.orientationX===void 0?e(t,r):(U(o,r),X(o,r,"orientationX"),X(o,r,"orientationY"),X(o,r,"orientationZ"),X(o,r,"positionX"),X(o,r,"positionY"),X(o,r,"positionZ"),Z(o,r,"coneInnerAngle"),Z(o,r,"coneOuterAngle"),Z(o,r,"coneOuterGain"),Z(o,r,"distanceModel"),Z(o,r,"maxDistance"),Z(o,r,"panningModel"),Z(o,r,"refDistance"),Z(o,r,"rolloffFactor"),o)};var Ta=(e,t,r,o,n,s,u,a,c,i)=>(l,{coneInnerAngle:p,coneOuterAngle:m,coneOuterGain:f,distanceModel:d,maxDistance:h,orientationX:x,orientationY:N,orientationZ:A,panningModel:_,positionX:M,positionY:v,positionZ:g,refDistance:y,rolloffFactor:C,...F})=>{let b=l.createPanner();if(F.channelCount>2||F.channelCountMode==="max")throw u();U(b,F);let E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=r(l,{...E,channelInterpretation:"speakers",numberOfInputs:6}),L=o(l,{...F,gain:1}),P=o(l,{...E,gain:1}),O=o(l,{...E,gain:0}),w=o(l,{...E,gain:0}),S=o(l,{...E,gain:0}),D=o(l,{...E,gain:0}),R=o(l,{...E,gain:0}),T=n(l,256,6,1),V=s(l,{...E,curve:new Float32Array([1,1]),oversample:"none"}),q=[x,N,A],ce=[M,v,g],ue=new Float32Array(1);T.onaudioprocess=({inputBuffer:W})=>{let xe=[c(W,ue,0),c(W,ue,1),c(W,ue,2)];xe.some((Re,Ne)=>Re!==q[Ne])&&(b.setOrientation(...xe),q=xe);let me=[c(W,ue,3),c(W,ue,4),c(W,ue,5)];me.some((Re,Ne)=>Re!==ce[Ne])&&(b.setPosition(...me),ce=me)},Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(w.gain,"defaultValue",{get:()=>0}),Object.defineProperty(S.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0});let G={get bufferSize(){},get channelCount(){return b.channelCount},set channelCount(W){if(W>2)throw u();L.channelCount=W,b.channelCount=W},get channelCountMode(){return b.channelCountMode},set channelCountMode(W){if(W==="max")throw u();L.channelCountMode=W,b.channelCountMode=W},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(W){L.channelInterpretation=W,b.channelInterpretation=W},get coneInnerAngle(){return b.coneInnerAngle},set coneInnerAngle(W){b.coneInnerAngle=W},get coneOuterAngle(){return b.coneOuterAngle},set coneOuterAngle(W){b.coneOuterAngle=W},get coneOuterGain(){return b.coneOuterGain},set coneOuterGain(W){if(W<0||W>1)throw t();b.coneOuterGain=W},get context(){return b.context},get distanceModel(){return b.distanceModel},set distanceModel(W){b.distanceModel=W},get inputs(){return[L]},get maxDistance(){return b.maxDistance},set maxDistance(W){if(W<0)throw new RangeError;b.maxDistance=W},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get orientationX(){return P.gain},get orientationY(){return O.gain},get orientationZ(){return w.gain},get panningModel(){return b.panningModel},set panningModel(W){b.panningModel=W},get positionX(){return S.gain},get positionY(){return D.gain},get positionZ(){return R.gain},get refDistance(){return b.refDistance},set refDistance(W){if(W<0)throw new RangeError;b.refDistance=W},get rolloffFactor(){return b.rolloffFactor},set rolloffFactor(W){if(W<0)throw new RangeError;b.rolloffFactor=W},addEventListener(...W){return L.addEventListener(W[0],W[1],W[2])},dispatchEvent(...W){return L.dispatchEvent(W[0])},removeEventListener(...W){return L.removeEventListener(W[0],W[1],W[2])}};p!==G.coneInnerAngle&&(G.coneInnerAngle=p),m!==G.coneOuterAngle&&(G.coneOuterAngle=m),f!==G.coneOuterGain&&(G.coneOuterGain=f),d!==G.distanceModel&&(G.distanceModel=d),h!==G.maxDistance&&(G.maxDistance=h),x!==G.orientationX.value&&(G.orientationX.value=x),N!==G.orientationY.value&&(G.orientationY.value=N),A!==G.orientationZ.value&&(G.orientationZ.value=A),_!==G.panningModel&&(G.panningModel=_),M!==G.positionX.value&&(G.positionX.value=M),v!==G.positionY.value&&(G.positionY.value=v),g!==G.positionZ.value&&(G.positionZ.value=g),y!==G.refDistance&&(G.refDistance=y),C!==G.rolloffFactor&&(G.rolloffFactor=C),(q[0]!==1||q[1]!==0||q[2]!==0)&&b.setOrientation(...q),(ce[0]!==0||ce[1]!==0||ce[2]!==0)&&b.setPosition(...ce);let Y=()=>{L.connect(b),e(L,V,0,0),V.connect(P).connect(I,0,0),V.connect(O).connect(I,0,1),V.connect(w).connect(I,0,2),V.connect(S).connect(I,0,3),V.connect(D).connect(I,0,4),V.connect(R).connect(I,0,5),I.connect(T).connect(l.destination)},re=()=>{L.disconnect(b),a(L,V,0,0),V.disconnect(P),P.disconnect(I),V.disconnect(O),O.disconnect(I),V.disconnect(w),w.disconnect(I),V.disconnect(S),S.disconnect(I),V.disconnect(D),D.disconnect(I),V.disconnect(R),R.disconnect(I),I.disconnect(T),T.disconnect(l.destination)};return i(ye(G,b),Y,re)};var Ia=e=>(t,{disableNormalization:r,imag:o,real:n})=>{let s=o instanceof Float32Array?o:new Float32Array(o),u=n instanceof Float32Array?n:new Float32Array(n),a=t.createPeriodicWave(u,s,{disableNormalization:r});if(Array.from(o).length<2)throw e();return a};var pt=(e,t,r,o)=>e.createScriptProcessor(t,r,o);var Ma=(e,t)=>(r,o)=>{let n=o.channelCountMode;if(n==="clamped-max")throw t();if(r.createStereoPanner===void 0)return e(r,o);let s=r.createStereoPanner();return U(s,o),X(s,o,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>n,set:u=>{if(u!==n)throw t()}}),s};var Ea=(e,t,r,o,n,s)=>{let a=new Float32Array([1,1]),c=Math.PI/2,i={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...i,oversample:"none"},p=(d,h,x,N)=>{let A=new Float32Array(16385),_=new Float32Array(16385);for(let F=0;F<16385;F+=1){let b=F/16384*c;A[F]=Math.cos(b),_[F]=Math.sin(b)}let M=r(d,{...i,gain:0}),v=o(d,{...l,curve:A}),g=o(d,{...l,curve:a}),y=r(d,{...i,gain:0}),C=o(d,{...l,curve:_});return{connectGraph(){h.connect(M),h.connect(g.inputs===void 0?g:g.inputs[0]),h.connect(y),g.connect(x),x.connect(v.inputs===void 0?v:v.inputs[0]),x.connect(C.inputs===void 0?C:C.inputs[0]),v.connect(M.gain),C.connect(y.gain),M.connect(N,0,0),y.connect(N,0,1)},disconnectGraph(){h.disconnect(M),h.disconnect(g.inputs===void 0?g:g.inputs[0]),h.disconnect(y),g.disconnect(x),x.disconnect(v.inputs===void 0?v:v.inputs[0]),x.disconnect(C.inputs===void 0?C:C.inputs[0]),v.disconnect(M.gain),C.disconnect(y.gain),M.disconnect(N,0,0),y.disconnect(N,0,1)}}},m=(d,h,x,N)=>{let A=new Float32Array(16385),_=new Float32Array(16385),M=new Float32Array(16385),v=new Float32Array(16385),g=Math.floor(16385/2);for(let S=0;S<16385;S+=1)if(S>g){let D=(S-g)/(16384-g)*c;A[S]=Math.cos(D),_[S]=Math.sin(D),M[S]=0,v[S]=1}else{let D=S/(16384-g)*c;A[S]=1,_[S]=0,M[S]=Math.cos(D),v[S]=Math.sin(D)}let y=t(d,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),C=r(d,{...i,gain:0}),F=o(d,{...l,curve:A}),b=r(d,{...i,gain:0}),E=o(d,{...l,curve:_}),I=o(d,{...l,curve:a}),L=r(d,{...i,gain:0}),P=o(d,{...l,curve:M}),O=r(d,{...i,gain:0}),w=o(d,{...l,curve:v});return{connectGraph(){h.connect(y),h.connect(I.inputs===void 0?I:I.inputs[0]),y.connect(C,0),y.connect(b,0),y.connect(L,1),y.connect(O,1),I.connect(x),x.connect(F.inputs===void 0?F:F.inputs[0]),x.connect(E.inputs===void 0?E:E.inputs[0]),x.connect(P.inputs===void 0?P:P.inputs[0]),x.connect(w.inputs===void 0?w:w.inputs[0]),F.connect(C.gain),E.connect(b.gain),P.connect(L.gain),w.connect(O.gain),C.connect(N,0,0),L.connect(N,0,0),b.connect(N,0,1),O.connect(N,0,1)},disconnectGraph(){h.disconnect(y),h.disconnect(I.inputs===void 0?I:I.inputs[0]),y.disconnect(C,0),y.disconnect(b,0),y.disconnect(L,1),y.disconnect(O,1),I.disconnect(x),x.disconnect(F.inputs===void 0?F:F.inputs[0]),x.disconnect(E.inputs===void 0?E:E.inputs[0]),x.disconnect(P.inputs===void 0?P:P.inputs[0]),x.disconnect(w.inputs===void 0?w:w.inputs[0]),F.disconnect(C.gain),E.disconnect(b.gain),P.disconnect(L.gain),w.disconnect(O.gain),C.disconnect(N,0,0),L.disconnect(N,0,0),b.disconnect(N,0,1),O.disconnect(N,0,1)}}},f=(d,h,x,N,A)=>{if(h===1)return p(d,x,N,A);if(h===2)return m(d,x,N,A);throw n()};return(d,{channelCount:h,channelCountMode:x,pan:N,...A})=>{if(x==="max")throw n();let _=e(d,{...A,channelCount:1,channelCountMode:x,numberOfInputs:2}),M=r(d,{...A,channelCount:h,channelCountMode:x,gain:1}),v=r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:N}),{connectGraph:g,disconnectGraph:y}=f(d,h,M,v,_);Object.defineProperty(v.gain,"defaultValue",{get:()=>0}),Object.defineProperty(v.gain,"maxValue",{get:()=>1}),Object.defineProperty(v.gain,"minValue",{get:()=>-1});let C={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(I){M.channelCount!==I&&(F&&y(),{connectGraph:g,disconnectGraph:y}=f(d,I,M,v,_),F&&g()),M.channelCount=I},get channelCountMode(){return M.channelCountMode},set channelCountMode(I){if(I==="clamped-max"||I==="max")throw n();M.channelCountMode=I},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(I){M.channelInterpretation=I},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get pan(){return v.gain},addEventListener(...I){return M.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return M.dispatchEvent(I[0])},removeEventListener(...I){return M.removeEventListener(I[0],I[1],I[2])}},F=!1,b=()=>{g(),F=!0},E=()=>{y(),F=!1};return s(ye(C,_),b,E)}};var ba=(e,t,r,o,n,s,u)=>(a,c)=>{let i=a.createWaveShaper();if(s!==null&&s.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return r(a,c);U(i,c);let l=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(l!==null&&l.length<2)throw t();Z(i,{curve:l},"curve"),Z(i,c,"oversample");let p=null,m=!1;return u(i,"curve",h=>()=>h.call(i),h=>x=>(h.call(i,x),m&&(o(x)&&p===null?p=e(a,i):!o(x)&&p!==null&&(p(),p=null)),x)),n(i,()=>{m=!0,o(i.curve)&&(p=e(a,i))},()=>{m=!1,p!==null&&(p(),p=null)})};var Pa=(e,t,r,o,n)=>(s,{curve:u,oversample:a,...c})=>{let i=s.createWaveShaper(),l=s.createWaveShaper();U(i,c),U(l,c);let p=r(s,{...c,gain:1}),m=r(s,{...c,gain:-1}),f=r(s,{...c,gain:1}),d=r(s,{...c,gain:-1}),h=null,x=!1,N=null,A={get bufferSize(){},get channelCount(){return i.channelCount},set channelCount(v){p.channelCount=v,m.channelCount=v,i.channelCount=v,f.channelCount=v,l.channelCount=v,d.channelCount=v},get channelCountMode(){return i.channelCountMode},set channelCountMode(v){p.channelCountMode=v,m.channelCountMode=v,i.channelCountMode=v,f.channelCountMode=v,l.channelCountMode=v,d.channelCountMode=v},get channelInterpretation(){return i.channelInterpretation},set channelInterpretation(v){p.channelInterpretation=v,m.channelInterpretation=v,i.channelInterpretation=v,f.channelInterpretation=v,l.channelInterpretation=v,d.channelInterpretation=v},get context(){return i.context},get curve(){return N},set curve(v){if(v!==null&&v.length<2)throw t();if(v===null)i.curve=v,l.curve=v;else{let g=v.length,y=new Float32Array(g+2-g%2),C=new Float32Array(g+2-g%2);y[0]=v[0],C[0]=-v[g-1];let F=Math.ceil((g+1)/2),b=(g+1)/2-1;for(let E=1;E<F;E+=1){let I=E/F*b,L=Math.floor(I),P=Math.ceil(I);y[E]=L===P?v[L]:(1-(I-L))*v[L]+(1-(P-I))*v[P],C[E]=L===P?-v[g-1-L]:-((1-(I-L))*v[g-1-L])-(1-(P-I))*v[g-1-P]}y[F]=g%2===1?v[F-1]:(v[F-2]+v[F-1])/2,i.curve=y,l.curve=C}N=v,x&&(o(N)&&h===null?h=e(s,p):h!==null&&(h(),h=null))},get inputs(){return[p]},get numberOfInputs(){return i.numberOfInputs},get numberOfOutputs(){return i.numberOfOutputs},get oversample(){return i.oversample},set oversample(v){i.oversample=v,l.oversample=v},addEventListener(...v){return p.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return p.dispatchEvent(v[0])},removeEventListener(...v){return p.removeEventListener(v[0],v[1],v[2])}};u!==null&&(A.curve=u instanceof Float32Array?u:new Float32Array(u)),a!==A.oversample&&(A.oversample=a);let _=()=>{p.connect(i).connect(f),p.connect(m).connect(l).connect(d).connect(f),x=!0,o(N)&&(h=e(s,p))},M=()=>{p.disconnect(i),i.disconnect(f),p.disconnect(m),m.disconnect(l),l.disconnect(d),d.disconnect(f),x=!1,h!==null&&(h(),h=null)};return n(ye(A,f),_,M)};var le=()=>new DOMException("","NotSupportedError");var Ai={numberOfChannels:1},Fa=(e,t,r,o,n)=>class extends e{constructor(u,a,c){let i;if(typeof u=="number"&&a!==void 0&&c!==void 0)i={length:a,numberOfChannels:u,sampleRate:c};else if(typeof u=="object")i=u;else throw new Error("The given parameters are not valid.");let{length:l,numberOfChannels:p,sampleRate:m}={...Ai,...i},f=o(p,l,m);t(Oe,()=>Oe(f))||f.addEventListener("statechange",(()=>{let d=0,h=x=>{this._state==="running"&&(d>0?(f.removeEventListener("statechange",h),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):d+=1)};return h})()),super(f,p),this._length=l,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(r()):(this._state="running",n(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Be(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}};var Si={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Ra=(e,t,r,o,n,s,u)=>class extends e{constructor(c,i){let l=n(c),p={...Si,...i},m=r(l,p),f=s(l),d=f?o():null,h=c.sampleRate/2;super(c,!1,m,d),this._detune=t(this,f,m.detune,153600,-153600),this._frequency=t(this,f,m.frequency,h,-h),this._nativeOscillatorNode=m,this._onended=null,this._oscillatorNodeRenderer=d,this._oscillatorNodeRenderer!==null&&p.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=p.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){let i=typeof c=="function"?u(this,c):null;this._nativeOscillatorNode.onended=i;let l=this._nativeOscillatorNode.onended;this._onended=l!==null&&l===i?c:l}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){we(this);let i=()=>{this._nativeOscillatorNode.removeEventListener("ended",i),de(this)&&Ee(this)};this._nativeOscillatorNode.addEventListener("ended",i)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}};var Da=(e,t,r,o,n)=>()=>{let s=new WeakMap,u=null,a=null,c=null,i=async(l,p)=>{let m=r(l),f=j(m,p);if(!f){let d={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,periodicWave:u===null?void 0:u,type:m.type};m=t(p,d),a!==null&&m.start(a),c!==null&&m.stop(c)}return s.set(p,m),f?(await e(p,l.detune,m.detune),await e(p,l.frequency,m.frequency)):(await o(p,l.detune,m.detune),await o(p,l.frequency,m.frequency)),await n(l,p,m),m};return{set periodicWave(l){u=l},set start(l){a=l},set stop(l){c=l},render(l,p){let m=s.get(p);return m!==void 0?Promise.resolve(m):i(l,p)}}};var wi={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},ka=(e,t,r,o,n,s,u)=>class extends e{constructor(c,i){let l=n(c),p={...wi,...i},m=r(l,p),f=s(l),d=f?o():null;super(c,!1,m,d),this._nativePannerNode=m,this._orientationX=t(this,f,m.orientationX,te,oe),this._orientationY=t(this,f,m.orientationY,te,oe),this._orientationZ=t(this,f,m.orientationZ,te,oe),this._positionX=t(this,f,m.positionX,te,oe),this._positionY=t(this,f,m.positionY,te,oe),this._positionZ=t(this,f,m.positionZ,te,oe),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}};var La=(e,t,r,o,n,s,u,a,c,i)=>()=>{let l=new WeakMap,p=null,m=async(f,d)=>{let h=null,x=s(f),N={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},A={...N,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},_=j(x,d);if("bufferSize"in x)h=o(d,{...N,gain:1});else if(!_){let M={...A,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=n(d,M)}if(l.set(d,h===null?x:h),h!==null){if(p===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");let E=new u(6,f.context.length,d.sampleRate),I=t(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});I.connect(E.destination),p=(async()=>{let L=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(async(P,O)=>{let w=r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:O===0?1:0});return await a(E,P,w.offset),w}));for(let P=0;P<6;P+=1)L[P].connect(I,0,P),L[P].start(0);return i(E)})()}let M=await p,v=o(d,{...N,gain:1});await c(f,d,v);let g=[];for(let E=0;E<M.numberOfChannels;E+=1)g.push(M.getChannelData(E));let y=[g[0][0],g[1][0],g[2][0]],C=[g[3][0],g[4][0],g[5][0]],F=o(d,{...N,gain:1}),b=n(d,{...A,orientationX:y[0],orientationY:y[1],orientationZ:y[2],positionX:C[0],positionY:C[1],positionZ:C[2]});v.connect(F).connect(b.inputs[0]),b.connect(h);for(let E=128;E<M.length;E+=128){let I=[g[0][E],g[1][E],g[2][E]],L=[g[3][E],g[4][E],g[5][E]];if(I.some((P,O)=>P!==y[O])||L.some((P,O)=>P!==C[O])){y=I,C=L;let P=E/d.sampleRate;F.gain.setValueAtTime(0,P),F=o(d,{...N,gain:0}),b=n(d,{...A,orientationX:y[0],orientationY:y[1],orientationZ:y[2],positionX:C[0],positionY:C[1],positionZ:C[2]}),F.gain.setValueAtTime(1,P),v.connect(F).connect(b.inputs[0]),b.connect(h)}}return h}return _?(await e(d,f.orientationX,x.orientationX),await e(d,f.orientationY,x.orientationY),await e(d,f.orientationZ,x.orientationZ),await e(d,f.positionX,x.positionX),await e(d,f.positionY,x.positionY),await e(d,f.positionZ,x.positionZ)):(await a(d,f.orientationX,x.orientationX),await a(d,f.orientationY,x.orientationY),await a(d,f.orientationZ,x.orientationZ),await a(d,f.positionX,x.positionX),await a(d,f.positionY,x.positionY),await a(d,f.positionZ,x.positionZ)),ge(x)?await c(f,d,x.inputs[0]):await c(f,d,x),x};return{render(f,d){let h=l.get(d);return h!==void 0?Promise.resolve(h):m(f,d)}}};var _i={disableNormalization:!1},Wa=(e,t,r,o)=>class Va{constructor(s,u){let a=t(s),c=o({..._i,...u}),i=e(a,c);return r.add(i),i}static[Symbol.hasInstance](s){return s!==null&&typeof s=="object"&&Object.getPrototypeOf(s)===Va.prototype||r.has(s)}};var Ba=(e,t)=>(r,o,n)=>(e(o).replay(n),t(o,r,n));var Ga=(e,t,r)=>async(o,n,s)=>{let u=e(o);await Promise.all(u.activeInputs.map((a,c)=>Array.from(a).map(async([i,l])=>{let m=await t(i).render(i,n),f=o.context.destination;!r(i)&&(o!==f||!r(o))&&m.connect(s,l,c)})).reduce((a,c)=>[...a,...c],[]))};var Ua=(e,t,r)=>async(o,n,s)=>{let u=t(o);await Promise.all(Array.from(u.activeInputs).map(async([a,c])=>{let l=await e(a).render(a,n);r(a)||l.connect(s,c)}))};var qa=(e,t,r,o)=>n=>e(Oe,()=>Oe(n))?Promise.resolve(e(o,o)).then(s=>{if(!s){let u=r(n,512,0,1);n.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>n.currentTime,u.connect(n.destination)}return n.startRendering()}):new Promise(s=>{let u=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.oncomplete=a=>{u.disconnect(),s(a.renderedBuffer)},u.connect(n.destination),n.startRendering()});var ja=e=>(t,r)=>{e.set(t,r)};var Za=e=>(t,r)=>e.set(t,r);var za=(e,t,r,o,n,s,u,a)=>(c,i)=>r(c).render(c,i).then(()=>Promise.all(Array.from(o(i)).map(l=>r(l).render(l,i)))).then(()=>n(i)).then(l=>(typeof l.copyFromChannel!="function"?(u(l),et(l)):t(s,()=>s(l))||a(l),e.add(l),l));var Oi={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Xa=(e,t,r,o,n,s)=>class extends e{constructor(a,c){let i=n(a),l={...Oi,...c},p=r(i,l),m=s(i),f=m?o():null;super(a,!1,p,f),this._pan=t(this,m,p.pan)}get pan(){return this._pan}};var Ya=(e,t,r,o,n)=>()=>{let s=new WeakMap,u=async(a,c)=>{let i=r(a),l=j(i,c);if(!l){let p={channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,pan:i.pan.value};i=t(c,p)}return s.set(c,i),l?await e(c,a.pan,i.pan):await o(c,a.pan,i.pan),ge(i)?await n(a,c,i.inputs[0]):await n(a,c,i),i};return{render(a,c){let i=s.get(c);return i!==void 0?Promise.resolve(i):u(a,c)}}};var Ha=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0};var Ka=(e,t)=>async()=>{if(e===null)return!0;if(t===null)return!1;let r=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),o=new t(1,128,44100),n=URL.createObjectURL(r),s=!1,u=!1;try{await o.audioWorklet.addModule(n);let a=new e(o,"a",{numberOfOutputs:0}),c=o.createOscillator();a.port.onmessage=()=>s=!0,a.onprocessorerror=()=>u=!0,c.connect(a),c.start(0),await o.startRendering(),await new Promise(i=>setTimeout(i))}catch{}finally{URL.revokeObjectURL(n)}return s&&!u};var Qa=(e,t)=>()=>{if(t===null)return Promise.resolve(!1);let r=new t(1,1,44100),o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(n=>{r.oncomplete=()=>{o.disconnect(),n(r.currentTime!==0)},r.startRendering()})};var lr=()=>new DOMException("","UnknownError");var Ti={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},$a=(e,t,r,o,n,s,u)=>class extends e{constructor(c,i){let l=n(c),p={...Ti,...i},m=r(l,p),d=s(l)?o():null;super(c,!0,m,d),this._isCurveNullified=!1,this._nativeWaveShaperNode=m,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}};var Ja=(e,t,r)=>()=>{let o=new WeakMap,n=async(s,u)=>{let a=t(s);if(!j(a,u)){let i={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=e(u,i)}return o.set(u,a),ge(a)?await r(s,u,a.inputs[0]):await r(s,u,a),a};return{render(s,u){let a=o.get(u);return a!==void 0?Promise.resolve(a):n(s,u)}}};var es=()=>typeof window>"u"?null:window;var ts=(e,t)=>r=>{r.copyFromChannel=(o,n,s=0)=>{let u=e(s),a=e(n);if(a>=r.numberOfChannels)throw t();let c=r.length,i=r.getChannelData(a),l=o.length;for(let p=u<0?-u:0;p+u<c&&p<l;p+=1)o[p]=i[p+u]},r.copyToChannel=(o,n,s=0)=>{let u=e(s),a=e(n);if(a>=r.numberOfChannels)throw t();let c=r.length,i=r.getChannelData(a),l=o.length;for(let p=u<0?-u:0;p+u<c&&p<l;p+=1)i[p+u]=o[p]}};var rs=e=>t=>{t.copyFromChannel=(r=>(o,n,s=0)=>{let u=e(s),a=e(n);if(u<t.length)return r.call(t,o,a,u)})(t.copyFromChannel),t.copyToChannel=(r=>(o,n,s=0)=>{let u=e(s),a=e(n);if(u<t.length)return r.call(t,o,a,u)})(t.copyToChannel)};var os=e=>(t,r)=>{let o=r.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=o),e(t,"buffer",n=>()=>{let s=n.call(t);return s===o?null:s},n=>s=>n.call(t,s===null?o:s))};var ns=(e,t)=>(r,o)=>{o.channelCount=1,o.channelCountMode="explicit",Object.defineProperty(o,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(o,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});let n=r.createBufferSource();t(o,()=>{let a=o.numberOfInputs;for(let c=0;c<a;c+=1)n.connect(o,0,c)},()=>n.disconnect(o))};var pr=(e,t,r)=>e.copyFromChannel===void 0?e.getChannelData(r)[0]:(e.copyFromChannel(t,r),t[0]);var dr=e=>{if(e===null)return!1;let t=e.length;return t%2!==0?e[Math.floor(t/2)]!==0:e[t/2-1]+e[t/2]!==0};var dt=(e,t,r,o)=>{let n=e;for(;!n.hasOwnProperty(t);)n=Object.getPrototypeOf(n);let{get:s,set:u}=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,{get:r(s),set:o(u)})};var as=e=>({...e,outputChannelCount:e.outputChannelCount!==void 0?e.outputChannelCount:e.numberOfInputs===1&&e.numberOfOutputs===1?[e.channelCount]:Array.from({length:e.numberOfOutputs},()=>1)});var ss=e=>({...e,channelCount:e.numberOfOutputs});var is=e=>{let{imag:t,real:r}=e;return t===void 0?r===void 0?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(r,()=>0),real:r}:r===void 0?{...e,imag:t,real:Array.from(t,()=>0)}:{...e,imag:t,real:r}};var fr=(e,t,r)=>{try{e.setValueAtTime(t,r)}catch(o){if(o.code!==9)throw o;fr(e,t,r+1e-7)}};var cs=e=>{let t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1};var us=e=>{let t=e.createBufferSource(),r=e.createBuffer(1,1,44100);t.buffer=r;try{t.start(0,1)}catch{return!1}return!0};var ls=e=>{let t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0};var Gt=e=>{let t=e.createOscillator();try{t.start(-1)}catch(r){return r instanceof RangeError}return!1};var mr=e=>{let t=e.createBuffer(1,1,44100),r=e.createBufferSource();r.buffer=t,r.start(),r.stop();try{return r.stop(),!0}catch{return!1}};var Ut=e=>{let t=e.createOscillator();try{t.stop(-1)}catch(r){return r instanceof RangeError}return!1};var ps=e=>{let{port1:t,port2:r}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),r.close()}};var ds=e=>{e.start=(t=>(r=0,o=0,n)=>{let s=e.buffer,u=s===null?o:Math.min(s.duration,o);s!==null&&u>s.duration-.5/e.context.sampleRate?t.call(e,r,0,0):t.call(e,r,u,n)})(e.start)};var hr=(e,t)=>{let r=t.createGain();e.connect(r);let o=(n=>()=>{n.call(e,r),e.removeEventListener("ended",o)})(e.disconnect);e.addEventListener("ended",o),ye(e,r),e.stop=(n=>{let s=!1;return(u=0)=>{if(s)try{n.call(e,u)}catch{r.gain.setValueAtTime(0,u)}else n.call(e,u),s=!0}})(e.stop)};var Ye=(e,t)=>r=>{let o={value:e};return Object.defineProperties(r,{currentTarget:o,target:o}),typeof t=="function"?t.call(e,r):t.handleEvent.call(e,r)};var Ii=Jr(_e),Mi=uo(_e),Ei=sn(We),ms=new WeakMap,bi=Sn(ms),Ae=Go(new Map,new WeakMap),be=es(),hs=$n(Ae,Ce),xr=An(ie),pe=Ga(ie,xr,De),Pi=mo(hs,H,pe),Q=On($e),ke=wa(be),K=Gn(ke),xs=new WeakMap,Ns=xn(Ye),ft=ra(be),Nr=Ln(ft),vr=Wn(be),vs=Vn(be),At=na(be),ne=bo(eo(Mt),co(Ii,Mi,tt,Ei,rt,ie,bi,Me,H,_e,de,De,ot),Ae,Pn(vt,rt,ie,H,ze,de),Ce,it,le,on(tt,vt,ie,H,ze,Q,de,K),ln(xs,ie,ae),Ns,Q,Nr,vr,vs,K,At),Fi=fo(ne,Pi,Ce,hs,Q,K);var Cr=new WeakSet,fs=Jn(be),Cs=Qo(new Uint32Array(1)),gr=ts(Cs,Ce),yr=rs(Cs),Ri=ho(Cr,Ae,le,fs,ke,Ha(fs),gr,yr);var qt=lo(fe),gs=Ua(xr,Ve,De),Pe=zo(gs),mt=ta(qt,Ae,cs,us,ls,Gt,mr,Ut,ds,os(dt),hr),Fe=Ba(wn(Ve),gs),Di=vo(Pe,mt,H,Fe,pe),Te=Fo(to(Et),xs,Nt,Ro,he.createCancelAndHoldAutomationEvent,he.createCancelScheduledValuesAutomationEvent,he.createExponentialRampToValueAutomationEvent,he.createLinearRampToValueAutomationEvent,he.createSetTargetAutomationEvent,he.createSetValueAutomationEvent,he.createSetValueCurveAutomationEvent,ft,fr),ki=No(ne,Di,Te,$,mt,Q,K,Ye);var Li=Oo(ne,To,Ce,$,oa(fe,dt),Q,K,pe),Wi=Bo(Pe,cr,H,Fe,pe),He=Za(ms),Vi=Vo(ne,Te,Wi,it,cr,Q,K,He),Ue=Kn(_e,vr),Bi=ns($,Ue),qe=pa(ft,Bi),Gi=qo(qe,H,pe),Ui=Uo(ne,Gi,qe,Q,K),qi=Zo(lt,H,pe),ji=jo(ne,qi,lt,Q,K,ss),Zi=ma(qt,mt,fe,Ue),ht=fa(qt,Ae,Zi,Gt,Ut),zi=Ko(Pe,ht,H,Fe,pe),Xi=Ho(ne,Te,zi,ht,Q,K,Ye),ys=ha(le,dt),Yi=Jo(ys,H,pe),Hi=$o(ne,Yi,ys,Q,K,He),Ki=an(Pe,ur,H,Fe,pe),Qi=nn(ne,Te,Ki,ur,Q,K,He),As=xa(le),$i=fn(Pe,As,H,Fe,pe),Ji=dn(ne,Te,$i,As,le,Q,K,He),ec=gn(Pe,fe,H,Fe,pe),tc=Cn(ne,Te,ec,fe,Q,K),rc=Ca(it,$,pt,le),jt=qa(Ae,fe,pt,Qa(fe,ke)),oc=bn(mt,H,ke,pe,jt),nc=Na(rc),ac=En(ne,nc,oc,Q,K,He),sc=Io(Te,qe,ht,pt,le,pr,K,dt),Ss=new WeakMap,Ar=Yn(Li,sc,Ns,K,Ss,Ye),ws=_a(qt,Ae,Gt,mr,Ut,hr),ic=Da(Pe,ws,H,Fe,pe),cc=Ra(ne,Te,ws,ic,Q,K,Ye),_s=Yo(mt),uc=Pa(_s,$,fe,dr,Ue),Zt=ba(_s,$,uc,dr,Ue,ft,dt),lc=Ta(tt,$,qe,fe,pt,Zt,le,rt,pr,Ue),Os=Oa(lc),pc=La(Pe,qe,ht,fe,Os,H,ke,Fe,pe,jt),dc=ka(ne,Te,Os,pc,Q,K,He),fc=Ia(Ce),mc=Wa(fc,Q,new WeakSet,is),hc=Ea(qe,lt,fe,Zt,le,Ue),Ts=Ma(hc,le),xc=Ya(Pe,Ts,H,Fe,pe),Nc=Xa(ne,Te,Ts,xc,Q,K),vc=Ja(Zt,H,pe),Cc=$a(ne,$,Zt,vc,Q,K,He),Is=Un(be),Sr=Nn(be),Ms=new WeakMap,gc=Tn(Ms,ke),yc=Is?io(Ae,le,hn(be),Sr,vn($r),Q,gc,K,At,new WeakMap,new WeakMap,Ka(At,ke),be):void 0,Ac=Bn(Nr,K),Sc=rn(Cr,Ae,tn,mn,new WeakSet,Q,Ac,Je,Oe,gr,yr),Es=Wo(yc,Fi,Ri,ki,Vi,Ui,ji,Xi,Hi,Sc,Qi,Ji,tc,ac,Ar,cc,dc,mc,Nc,Cc),wc=qn(ne,ga,Q,K),_c=jn(ne,ya,Q,K),Oc=Zn(ne,Aa,Q,K),Tc=Sa($,K),Ic=zn(ne,Tc,Q),cM=_o(Es,$,le,lr,wc,_c,Oc,Ic,ft);var wr=In(Ss),Mc=po(wr),bs=Xo(Ce),Ec=cn(wr),Ps=pn(Ce),Fs=new WeakMap,bc=yn(Fs,ae),Pc=la(bs,Ce,$,qe,lt,ht,fe,pt,le,Ps,Sr,bc,Ue),Fc=sa($,Pc,fe,le,Ue),Rc=Lo(Pe,bs,mt,qe,lt,ht,fe,Ec,Ps,Sr,H,At,ke,Fe,pe,jt),Dc=_n(Ms),kc=ja(Fs),uM=Is?Do(Mc,ne,Te,Rc,Fc,ie,Dc,Q,K,At,as,kc,ps,Ye):void 0;var lM=Xn($,le,lr,Ar,ft);var Rs=en(le,ke),Ds=za(Cr,Ae,xr,wr,jt,Je,gr,yr),pM=Hn(Ae,$,Rs,Ar,Ds);var ks=Fa(Es,Ae,$,Rs,Ds);var dM=Fn($e,Nr),fM=Rn(Qe,vr),mM=Dn(Nt,vs),hM=kn($e,K);var _r=(e,t,r)=>{let o=new ks(e.numberOfChannels,Math.round(r*e.sampleRate),e.sampleRate),n=o.createBiquadFilter(),s=o.createBufferSource();return n.frequency.value=240,n.type="lowpass",s.buffer=e,s.connect(n).connect(o.destination),s.start(0,t,r),o.startRendering().then(u=>{let a=u.getChannelData(0),c=u.sampleRate;return{channelData:a,sampleRate:c}})};var Ls=e=>{let t=new Worker(e),r=new Set;return{analyze:(...s)=>{var u;let[a,c,i]=s,l=typeof c=="number"?c:0,p=typeof i=="number"?i:a.duration-l,m=typeof c=="object"?c:typeof i=="object"?i:(u=s[3])!==null&&u!==void 0?u:null;return new Promise(async(f,d)=>{let{channelData:h,sampleRate:x}=await _r(a,l,p),N=(0,Or.addUniqueNumber)(r),A=({data:_})=>{_.id===N&&(r.delete(N),t.removeEventListener("message",A),_.error===null?f(_.result.tempo):d(new Error(_.error.message)))};t.addEventListener("message",A),t.postMessage({id:N,method:"analyze",params:{channelData:h,sampleRate:x,...m===null?m:{tempoSettings:m}}},[h.buffer])})},guess:(...s)=>{var u;let[a,c,i]=s,l=typeof c=="number"?c:0,p=typeof i=="number"?i:a.duration-l,m=typeof c=="object"?c:typeof i=="object"?i:(u=s[3])!==null&&u!==void 0?u:null;return new Promise(async(f,d)=>{let{channelData:h,sampleRate:x}=await _r(a,l,p),N=(0,Or.addUniqueNumber)(r),A=({data:_})=>{_.id===N&&(r.delete(N),t.removeEventListener("message",A),_.error===null?f(_.result):d(new Error(_.error.message)))};t.addEventListener("message",A),t.postMessage({id:N,method:"guess",params:{channelData:h,sampleRate:x,...m===null?m:{tempoSettings:m}}},[h.buffer])})}}};var Ws=(e,t)=>{let r=null;return()=>{if(r!==null)return r;let o=new Blob([t],{type:"application/javascript; charset=utf-8"}),n=URL.createObjectURL(o);return r=e(n),setTimeout(()=>URL.revokeObjectURL(n)),r}};var Vs=`(()=>{"use strict";const e=(e,t,s)=>{const o=e.length,n=[];let a=!1;for(let r=0;r<o;r+=1)e[r]>t?a=!0:a&&(a=!1,n.push(r-1),r+=s/4-1);return a&&n.push(o-1),n},t=(t,s,o)=>{const n=(e=>{let t=0;const s=e.length;for(let o=0;o<s;o+=1)e[o]>t&&(t=e[o]);return t})(t),a=.3*n;let r=[],l=n-.05*n;if(n>.25)for(;r.length<30&&l>=a;)r=e(t,l,s),l-=.05*n;const p=(e=>{const t=[];return e.forEach(((s,o)=>{const n=Math.min(e.length-o,10);for(let a=1;a<n;a+=1){const n=e[o+a]-s;t.some((e=>e.interval===n&&(e.peaks.push(s),!0)))||t.push({interval:n,peaks:[s]})}})),t})(r),h=((e,t,s={})=>{var o,n;const a=Math.max(0,null!==(o=s.maxTempo)&&void 0!==o?o:180),r=Math.max(0,null!==(n=s.minTempo)&&void 0!==n?n:90),l=[];return e.forEach((e=>{let s=60/(e.interval/t);for(;s<r;)s*=2;for(;s>a;)s/=2;if(s<r)return;let o=!1,n=e.peaks.length;l.forEach((t=>{if(t.tempo===s&&(t.score+=e.peaks.length,t.peaks=[...t.peaks,...e.peaks],o=!0),t.tempo>s-.5&&t.tempo<s+.5){const o=2*Math.abs(t.tempo-s);n+=(1-o)*t.peaks.length,t.score+=(1-o)*e.peaks.length}})),o||l.push({peaks:e.peaks,score:n,tempo:s})})),l})(p,s,o);return h.sort(((e,t)=>t.score-e.score)),h};addEventListener("message",(({data:e})=>{try{if("analyze"===e.method){const{id:s,params:{channelData:o,sampleRate:n,tempoSettings:a}}=e,r=((e,s,o)=>{const n=t(e,s,o);if(0===n.length)throw new Error("The given channelData does not contain any detectable beats.");return n[0].tempo})(o,n,a);postMessage({error:null,id:s,result:{tempo:r}})}else{if("guess"!==e.method)throw new Error('The given method "'.concat(e.method,'" is not supported'));{const{id:s,params:{channelData:o,sampleRate:n,tempoSettings:a}}=e,{bpm:r,offset:l,tempo:p}=((e,s,o)=>{const n=t(e,s,o);if(0===n.length)throw new Error("The given channelData does not contain any detectable beats.");const{peaks:a,tempo:r}=n[0],l=Math.round(r),p=60/l;a.sort(((e,t)=>e-t));let h=a[0]/s;for(;h>p;)h-=p;return{bpm:l,offset:h,tempo:r}})(o,n,a);postMessage({error:null,id:s,result:{bpm:r,offset:l,tempo:p}})}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}}))})();`;var Bs=Ws(Ls,Vs),Lc=(...e)=>Bs().analyze(...e),Wc=(...e)=>Bs().guess(...e);return Ot(Vc);})();
