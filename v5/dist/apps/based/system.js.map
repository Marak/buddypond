{"version":3,"file":"system.js","sources":["../../../apps/based/system/SystemsManager.js","../../../apps/based/system/system.js"],"sourcesContent":["class SystemsManager {\n  constructor() {\n    this.messageProcessors = new Map();\n  }\n\n  addMessageProcessor(type, processor) {\n    if (!this.messageProcessors.has(type)) {\n      this.messageProcessors.set(type, []);\n    }\n    this.messageProcessors.get(type).push(processor);\n  }\n\n  removeMessageProcessor(type, processor) {\n    if (!this.messageProcessors.has(type)) return;\n    \n    const processors = this.messageProcessors.get(type).filter(p => p !== processor);\n    \n    if (processors.length === 0) {\n      this.messageProcessors.delete(type);\n    } else {\n      this.messageProcessors.set(type, processors);\n    }\n  }\n\n  dispatchMessage(type, message) {\n    if (!this.messageProcessors.has(type)) return;\n    \n    for (const processor of this.messageProcessors.get(type)) {\n      processor(message);\n    }\n  }\n}\n\nexport default SystemsManager;\n","import SystemsManager from \"./SystemsManager\";\n\nexport default class System {\n    constructor(bp, options = {}) {\n        this.bp = bp;\n        this.SystemsManager = new SystemsManager();\n\n        return this;\n    }\n\n    async init() {\n\n\n        return 'loaded system';\n    }\n}"],"names":["SystemsManager","constructor","this","messageProcessors","Map","addMessageProcessor","type","processor","has","set","get","push","removeMessageProcessor","processors","filter","p","length","delete","dispatchMessage","message","System","bp","options","init"],"mappings":"AAAA,MAAMA,EACJ,WAAAC,GACEC,KAAKC,kBAAoB,IAAIC,GACjC,CAEE,mBAAAC,CAAoBC,EAAMC,GACnBL,KAAKC,kBAAkBK,IAAIF,IAC9BJ,KAAKC,kBAAkBM,IAAIH,EAAM,IAEnCJ,KAAKC,kBAAkBO,IAAIJ,GAAMK,KAAKJ,EAC1C,CAEE,sBAAAK,CAAuBN,EAAMC,GAC3B,IAAKL,KAAKC,kBAAkBK,IAAIF,GAAO,OAEvC,MAAMO,EAAaX,KAAKC,kBAAkBO,IAAIJ,GAAMQ,QAAOC,GAAKA,IAAMR,IAE5C,IAAtBM,EAAWG,OACbd,KAAKC,kBAAkBc,OAAOX,GAE9BJ,KAAKC,kBAAkBM,IAAIH,EAAMO,EAEvC,CAEE,eAAAK,CAAgBZ,EAAMa,GACpB,GAAKjB,KAAKC,kBAAkBK,IAAIF,GAEhC,IAAK,MAAMC,KAAaL,KAAKC,kBAAkBO,IAAIJ,GACjDC,EAAUY,EAEhB,EC5Be,MAAMC,EACjB,WAAAnB,CAAYoB,EAAIC,EAAU,IAItB,OAHApB,KAAKmB,GAAKA,EACVnB,KAAKF,eAAiB,IAAIA,EAEnBE,IACf,CAEI,UAAMqB,GAGF,MAAO,eACf"}