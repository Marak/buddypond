{"version":3,"file":"themes.js","sources":["../../../apps/based/themes/themes/dark.js","../../../apps/based/themes/themes/light.js","../../../apps/based/themes/themes.js"],"sourcesContent":["export default {\n    'name': 'Dark',\n    'wallpaper': {\n        'name': 'solid',\n        'color': '#000000'\n    },\n    'styles': {\n        'window_top': {\n            'background': 'linear-gradient(180deg, #666666, #353535)', /* Mac-like gradient */\n            'color': '#e0e0e0'\n        },\n        'window_main': {\n            'background': 'white',\n            'color': '#181818'\n        },\n        'window_content': {\n            'background': 'white',\n            'color': '#181818'\n        },\n        'window_bottom': {\n            'background': 'white',\n            'color': '#181818'\n        },\n        'desktop_text': {\n            'color': '#181818',\n            'text-shadow': 'none'\n        },\n        'desktop_divider': {\n            'background': '#e0e0e0',\n        },\n        /*\n        'desktop_input': {\n          'background': '#f0f0f0',\n          'color': '#181818'\n        },\n        */\n        /*\n        'desktop_button': {\n          'background': '#e0e0e0',\n          'color': '#181818',\n          'border': '1px solid #cccccc'\n        },\n        */\n        'desktop_button': {\n            'background': '#3b82f6',\n            'border-color': 'none',\n            'border-radius': '4px',\n            'color': '#fff',\n            'cursor': 'pointer',\n            'display': 'inline-block',\n            'font-size': '14px',\n            'padding': '8px 16px',\n            'text-align': 'center',\n            'transition': 'background .2s'\n        },\n        'desktop_button_hover': {\n            'background': '#2563eb',\n            'color': '#fff',\n            'border-color': 'none',\n            'cursor': 'pointer'\n        },\n        'desktop_section': {\n            'background': '#f9f9f9'\n        },\n        'desktop_headers': {\n            'color': '#181818',\n            'text-shadow': 'none'\n        },\n        'desktop_links': {\n            'color': '#181818',\n            'text-decoration': 'none'\n        },\n        'desktop_links_hover': {\n            'color': '#181818',\n            'text-decoration': 'underline'\n        }\n    }\n}","export default {\n    'name': 'Light',\n    'wallpaper': {\n        'name': 'solid',\n        'color': '#070709'\n    },\n    'styles': {\n        'window_top': {\n            'background': '#231c2f',\n            'color': '#E3E3E3'\n        },\n        'window_main': {\n            'background': '#1a1a1e',\n            'color': '#E3E3E3'\n        },\n        'window_content': {\n            'background': '#1a1a1e',\n            'color': '#E3E3E3'\n        },\n        'window_bottom': {\n            'background': '#181818',\n            'color': '#E3E3E3'\n        },\n        'desktop_divider': {\n            'background': '#242429',\n        },\n        'desktop_input': {\n            'background': '#222327',\n            'color': '#E3E3E3'\n        },\n        'desktop_button': {\n            'background': '#242428',\n            'color': '#E3E3E3',\n            'border': '1px solid #333333'\n        },\n        'desktop_text': {\n            'color': '#ececed'\n        },\n        \"desktop_element_hover\": {\n            'background': '#242428'\n        },\n        'desktop_section': {\n            'background': '#242429',\n            'color': '#E3E3E3'\n        },\n        'desktop_headers': {\n            'color': '#E3E3E3',\n            'text-shadow': 'none'\n        },\n        'desktop_links': {\n            'color': '#E3E3E3',\n            'text-decoration': 'none'\n        },\n        'desktop_links_hover': {\n            'color': '#E3E3E3',\n            'text-decoration': 'underline'\n        }\n\n    }\n}","import dark from './themes/dark.js';\nimport light from './themes/light.js';\n\nconsole.log('Themes module loaded', dark);\n\nexport default class Themes {\n  constructor(bp, options = {}) {\n    this.bp = bp;\n\n    // TODO: complete nyan and matrix themes\n    // TODO: complete water theme\n    this.themes = {\n      'Light': dark,\n      'Dark': light,\n      'Nyan': {\n        'wallpaper': {\n          'name': 'nyancat'\n        },\n        'styles': this.createGradientStyles('rainbow', 'hotpink')\n      },\n      'Hacker': {\n        'wallpaper': {\n          'name': 'matrix',\n          'color': 'green'\n        },\n        'styles': {\n          ...this.createGradientStyles('matrix', 'green'),\n          'window_main': {\n            'background': '#1a1a1e',\n            'color': '#E3E3E3'\n          },\n\n          'desktop_input': {\n            'background': '#222327',\n            'color': 'green'\n          },\n          'desktop_text': {\n            'color': 'green'\n          },\n          \"desktop_element_hover\": {\n            'background': '#242428'\n          }\n        },\n      },\n      'Water': {\n        'wallpaper': {\n          'name': 'ripples'\n        },\n        'styles': this.createGradientStyles('ripples', 'white')\n      }\n    };\n\n    // TODO: decide on theme mappings names for entire application\n    this.themeMappings = {\n      // maps abritary theme properties to css selector groups\n      'property_name': 'whateverwtf .cssValue',\n      // main window holder\n      // TODO: try using generic elements at top-level for styles, etc, div, span, input, etc\n      // then add more specific selectors for each UI element\n      // create new CSS classes for UI theme properties instead of application specific selectors ( like buddyListHolder )\n      // add support for minimal application specific selectors if needed\n      'window_content': 'mainOverlay.div, .bp-window-content, .window-main, .buddyListHolder',\n      'window_top': '.window-title-bar',\n      'window_main': '.aim-window ',\n      //'window_title_bar': '.window-title-bar',\n      'desktop_top_bar': '#bar_top',\n      'desktop_bottom_bar': '#bar_bottom',\n      'desktop_input': 'input, textarea, select, label',\n      'desktop_button': 'button',\n      'desktop_divider': '.aim-message-controls', // TODO: .desktop_divider\n      'desktop_text': 'p .desktop-shortcuts-container span.title, .desktop-shortcuts-container-folder a, .buddyListHolder a',\n      'desktop_headers': 'h1, h2, h3, h4, h5, h6',\n      'desktop_element_hover': '.aim-chat-message:hover',\n      'desktop_section': '.desktop-section',\n      'inputs_text': 'input[type=\"text\"]',\n      'desktop_links': 'a',\n      'desktop_links_hover': 'a:hover'\n    };\n\n  }\n\n  init() {\n    if (this.bp.settings.active_theme) {\n      this.applyTheme(this.bp.settings.active_theme);\n    }\n  }\n\n  createGradientStyles(gradientName, color) {\n    return {\n      'window_bar_top': {\n        'background': '#181818',\n        'color': '#E3E3E3'\n      },\n      'window_top': {\n        'background': gradients[gradientName],\n        'color': color\n      },\n      'window_main': {\n        // 'background': gradients[gradientName],\n        'color': color\n      },\n      'window_content': {\n        // 'background': gradients[gradientName],\n        'color': color\n      },\n      'window_bottom': {\n        'background': gradients[gradientName],\n        'color': color\n      },\n      'desktop_text': {\n        'color': color\n      },\n      'background': {\n        'background': '#0D1730'\n      }\n    };\n  }\n\n  applyTheme(themeName) {\n    let theme;\n\n\n    if (typeof themeName === 'object') {\n      // If themeName is an object, use it directly\n      theme = themeName;\n      themeName = theme.name || 'Custom';\n\n    } else {\n      theme = this.themes[themeName];\n\n    }\n    if (!theme) return;\n\n    // Remove any existing theme styles to prevent duplication\n    const existingStyle = document.getElementById('dynamic-theme');\n    if (existingStyle) existingStyle.remove();\n\n    // Create a new <style> element\n    const styleElement = document.createElement('style');\n    styleElement.id = 'dynamic-theme';\n    document.head.appendChild(styleElement);\n\n    // Build CSS rules\n    let cssRules = '';\n    for (const prop in theme.styles) {\n      const selector = this.themeMappings[prop];\n      if (!selector) {\n        console.log(`No mapping found for property: ${prop}`);\n        continue;\n      }\n\n      // Handle regular styles\n      const styles = theme.styles[prop];\n      let styleString = '';\n      for (const attr in styles) {\n        // Convert camelCase to kebab-case (e.g., backgroundColor -> background-color)\n        const cssAttr = attr.replace(/([A-Z])/g, '-$1').toLowerCase();\n        styleString += `${cssAttr}: ${styles[attr]}; `;\n      }\n\n      // all styleString should be !important\n      // this is important since theme CSS may be injected *before* the app CSS\n      // this would mean the default app CSS would override the theme styles, which is not desired\n      // styleString = styleString.replace(/;/g, ' !important;');\n\n      // Add regular selector styles\n      cssRules += `${selector} { ${styleString} }\\n`;\n\n      // Handle hover styles for specific properties (e.g., desktop_element_hover)\n      if (prop === 'desktop_element_hover') {\n        cssRules += `${selector} { ${styleString} }\\n`;\n      }\n    }\n\n    // Apply wallpaper styles if present\n    // Remark: Jun 5th, 2025 - Wallpapers are not part of theme styles anymore\n    /*\n    if (theme.wallpaper) {\n      let wallPaperUrl = this.bp.get('wallpaper_url');\n      if (!wallPaperUrl) {\n        cssRules += `body { background: ${theme.wallpaper.color || ''}; }\\n`; // Adjust based on your wallpaper logic\n        this.bp.set('wallpaper_name', theme.wallpaper.name);\n        if (theme.wallpaper.color) {\n          this.bp.set('wallpaper_color', theme.wallpaper.color);\n        }\n      }\n    }\n    */\n\n    // Inject CSS rules into the style element\n    styleElement.textContent = cssRules;\n\n    // Store the active theme\n    this.bp.set('active_theme', themeName);\n    //console.log('Applied theme:', themeName, cssRules);\n  }\n\n}\n\nlet gradients = {\n  'rainbow': 'linear-gradient(90deg, rgb(255,0,0) 0%, rgb(143,221,53) 25%, rgb(47,201,226) 50%, rgb(140,16,245) 75%, rgb(255,0,0) 100%)',\n  'matrix': 'linear-gradient(90deg, rgb(11,30,11) 0%, rgb(20,38,20) 20%, rgb(0,0,0) 50%, rgb(17,40,17) 80%, rgb(11,30,11) 100%)',\n  'ripples': 'radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%)'\n};"],"names":["dark","name","wallpaper","color","styles","window_top","background","window_main","window_content","window_bottom","desktop_text","desktop_divider","desktop_button","cursor","display","padding","transition","desktop_button_hover","desktop_section","desktop_headers","desktop_links","desktop_links_hover","light","desktop_input","border","desktop_element_hover","console","log","Themes","constructor","bp","options","this","themes","Light","Dark","Nyan","createGradientStyles","Hacker","Water","themeMappings","property_name","desktop_top_bar","desktop_bottom_bar","inputs_text","init","settings","active_theme","applyTheme","gradientName","window_bar_top","gradients","themeName","theme","existingStyle","document","getElementById","remove","styleElement","createElement","id","head","appendChild","cssRules","prop","selector","styleString","attr","replace","toLowerCase","textContent","set","rainbow","matrix","ripples"],"mappings":"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"}