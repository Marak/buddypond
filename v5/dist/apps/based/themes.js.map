{"version":3,"file":"themes.js","sources":["../../../apps/based/themes/themes/dark.js","../../../apps/based/themes/themes/light.js","../../../apps/based/themes/themes.js"],"sourcesContent":["export default {\n    'name': 'Dark',\n    'wallpaper': {\n        'name': 'solid',\n        'color': '#070709'\n    },\n    'styles': {\n        'window_top': {\n            'background': '#231c2f',\n            'color': '#E3E3E3'\n        },\n        /*\n        'window_main': {\n            'background': '#1a1a1e',\n            'color': '#E3E3E3'\n        },\n        */\n        'window_content': {\n            'background': '#1a1a1e',\n            'color': '#E3E3E3'\n        },\n        'desktop_divider': {\n            'background': '#242429',\n        },\n        'desktop_input': {\n            'background': '#222327',\n            'color': '#E3E3E3'\n        },\n        'desktop_button': {\n            'background': '#242428',\n            'color': '#E3E3E3',\n            'border': '1px solid #333333',\n            'border-radius': '4px',\n            'padding': '8px 16px',\n            'cursor': 'pointer',\n        },\n        'desktop_button_hover': {\n            'background': '#333333',\n            'color': '#E3E3E3',\n            'border': '1px solid #333333',\n            'cursor': 'pointer'\n        },\n\n        'desktop_text': {\n            'color': '#ececed'\n        },\n        'desktop_element': {\n            'background': '#242428',\n            'color': '#E3E3E3',\n        },\n        \"desktop_element_hover\": {\n            'background': '#333333',\n        },\n        'desktop_section': {\n            'background': '#242429',\n            'color': '#E3E3E3'\n        },\n        'desktop_headers': {\n            'color': '#E3E3E3',\n            'text-shadow': 'none'\n        },\n        'desktop_links': {\n            'color': '#E3E3E3',\n            'text-decoration': 'none'\n        },\n        'desktop_links_hover': {\n            'color': '#E3E3E3',\n            'text-decoration': 'underline'\n        },\n        'desktop_overlay': {\n            'background': '#231c2f',\n            'color': '#181818',\n            'border': '1px solid #cccccc'\n        },\n        'ui_table': {\n            'background': '#1a1a1e',\n            'color': '#E3E3E3',\n            'border': '1px solid #333333'\n        },\n        'ui_table_row_even': {\n            'background': '#242429',\n            'color': '#E3E3E3'\n        }\n\n    }\n}","export default {\n    'name': 'Light',\n    'wallpaper': {\n        'name': 'solid',\n        'color': '#000000'\n    },\n    'styles': {\n        'window_top': {\n            'background': 'linear-gradient(180deg, #666666, #353535)', /* Mac-like gradient */\n            'color': '#e0e0e0'\n        },\n        /*\n        'window_main': {\n            'background': 'white',\n            'color': '#181818'\n        },\n        */\n        'window_content': {\n            'background': 'white',\n            'color': '#181818'\n        },\n        'desktop_text': {\n            'color': '#181818',\n            'text-shadow': 'none'\n        },\n        \"desktop_element_hover\": {\n            'background': '#f3f4f6',\n        },\n\n        'desktop_divider': {\n            'background': '#e0e0e0',\n        },\n        'desktop_input': {\n          'background': '#f0f0f0',\n          'color': '#181818'\n        },\n        /*\n        'desktop_button': {\n          'background': '#e0e0e0',\n          'color': '#181818',\n          'border': '1px solid #cccccc'\n        },\n        */\n        'desktop_button': {\n            'background': '#f3f4f6',\n            'color': '#000',\n            'border-color': '#3b82f6',\n            'border-radius': '4px',\n            'padding': '8px 16px',\n            'cursor': 'pointer',\n        },\n        'desktop_button_hover': {\n            'background': '#3b82f6',\n            'color': '#f3f4f6',\n            'border-color': 'none',\n            'cursor': 'pointer'\n        },\n        'desktop_button_alt': {\n\n        },\n        'desktop_menu_bar': {\n            'background': '#f3f4f6',\n            'color': '#cccccc',\n            'border-bottom': '1px solid #cccccc'\n        },\n        'desktop_section': {\n            'background': '#f9f9f9'\n        },\n        'desktop_headers': {\n            'color': '#181818',\n            'text-shadow': 'none'\n        },\n        'desktop_links': {\n            'color': '#181818',\n            'text-decoration': 'none'\n        },\n        'desktop_links_hover': {\n            'color': '#181818',\n            'text-decoration': 'underline'\n        },\n        'desktop_overlay': {\n            'background': 'white',\n            'color': '#181818',\n            'border': '1px solid #cccccc'\n        },\n        'ui_table': {\n            'background': '#f9f9f9',\n            'color': '#181818',\n            'border': '1px solid #cccccc'\n        },\n        'ui_table_row_even': {\n            'background': '#f0f0f0',\n            'color': '#181818',\n            'border': '1px solid #cccccc'\n        }\n    }\n}","import dark from './themes/dark.js';\nimport light from './themes/light.js';\n\nexport default class Themes {\n  constructor(bp, options = {}) {\n    this.bp = bp;\n\n    this.themes = {\n      'Light': light,\n      'Dark': dark\n    };\n\n    // Mapping of theme property names to logical selectors\n    this.themeMappings = {\n      'window_content': 'mainOverlay.div, .bp-window-content, .window-main, .buddyListHolder',\n      'window_top': '.window-title-bar',\n      /* 'window_main': '.aim-window ', */\n      'desktop_top_bar': '#bar_top',\n      'desktop_bottom_bar': '#bar_bottom',\n      'desktop_input': 'input, textarea, select, label',\n      'desktop_button': 'button',\n      'desktop_divider': '.aim-message-controls',\n      'desktop_text': 'p .desktop-shortcuts-container span.title, .desktop-shortcuts-container-folder a, .buddyListHolder a',\n      'desktop_headers': 'h1, h2, h3, h4, h5, h6',\n      'desktop_element': '.aim-hover-menu, .desktop-element',\n      'desktop_element_hover': '.aim-chat-message:hover, .aim-hover-menu:hover',\n      'desktop_section': '.desktop-section',\n      'desktop_menu_bar': '.desktop-menu-bar',\n      'inputs_text': 'input[type=\"text\"]',\n      'desktop_links': 'a',\n      'desktop_links_hover': 'a:hover',\n      'desktop_overlay': '.desktop-overlay, .bp-file-explorer-drag-upload',\n      'ui_table': 'table',\n      'ui_table_row_even': 'table tr:nth-child(even)'\n    };\n  }\n\n  init() {\n    const themePref = this.bp.settings.active_theme || 'Light';\n    if (themePref) {\n      const customTheme = this.bp.settings.custom_theme;\n      const theme = themePref === 'Custom' ? customTheme : this.themes[themePref];\n      if (theme) {\n        console.log('Applying theme \"' + theme.name || themePref + '\"');\n        this.applyTheme(theme);\n      }\n    }\n  }\n\n  applyTheme(themeInput) {\n    const theme = typeof themeInput === 'object' ? themeInput : this.themes[themeInput];\n    const themeName = typeof themeInput === 'object' ? themeInput.name || 'Custom' : themeInput;\n\n    if (!theme) return;\n\n    if (themeName === 'Custom') {\n      this.bp.set('custom_theme', theme);\n    }\n\n    this.bp.set('active_theme', themeName);\n\n    // Remove existing <style> elements\n    document.getElementById('dynamic-theme')?.remove();\n\n    // Create and inject CSS variables as :root\n    const css = this.generateThemeCSSVariables(theme);\n    // console.log('Generated CSS for theme:', themeName, css);\n    const styleEl = document.createElement('style');\n    styleEl.id = 'dynamic-theme';\n    styleEl.textContent = css;\n    document.head.appendChild(styleEl);\n\n    console.log(`Applied theme \"${themeName}\"`);\n  }\n\n  generateThemeCSSVariables(theme) {\n    let css = `:root {\\n`;\n    for (const prop in theme.styles) {\n      const styleObj = theme.styles[prop];\n      for (const key in styleObj) {\n        const kebabKey = key.replace(/([A-Z])/g, '-$1').toLowerCase();\n        const cssVar = `--${prop}-${kebabKey}`;\n        css += `  ${cssVar}: ${styleObj[key]};\\n`;\n      }\n    }\n    css += `}`;\n    return css;\n  }\n}\n\nlet gradients = {\n  'rainbow': 'linear-gradient(90deg, rgb(255,0,0) 0%, rgb(143,221,53) 25%, rgb(47,201,226) 50%, rgb(140,16,245) 75%, rgb(255,0,0) 100%)',\n  'matrix': 'linear-gradient(90deg, rgb(11,30,11) 0%, rgb(20,38,20) 20%, rgb(0,0,0) 50%, rgb(17,40,17) 80%, rgb(11,30,11) 100%)',\n  'ripples': 'radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%)'\n};"],"names":["dark","name","wallpaper","color","styles","window_top","background","window_content","desktop_divider","desktop_input","desktop_button","border","padding","cursor","desktop_button_hover","desktop_text","desktop_element","desktop_element_hover","desktop_section","desktop_headers","desktop_links","desktop_links_hover","desktop_overlay","ui_table","ui_table_row_even","light","desktop_button_alt","desktop_menu_bar","Themes","constructor","bp","options","this","themes","Light","Dark","themeMappings","desktop_top_bar","desktop_bottom_bar","inputs_text","init","themePref","settings","active_theme","customTheme","custom_theme","theme","console","log","applyTheme","themeInput","themeName","set","document","getElementById","remove","css","generateThemeCSSVariables","styleEl","createElement","id","textContent","head","appendChild","prop","styleObj","key","replace","toLowerCase"],"mappings":"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"}