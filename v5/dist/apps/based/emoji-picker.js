class e{constructor(e){this.bp=e}async init(){return await this.bp.appendScript("/v5/apps/based/buddylist/vendor/emoji.min.js"),await this.bp.appendScript("/v5/apps/based/emoji-picker/vendor/grapheme-splitter.min.js"),this.jQueryPlugin(),"loaded emoji picker"}jQueryPlugin(){$.fn.emojiPicker=function(e){const o=$.extend({onSelect:e=>{},categories:["people","nature","food","activity","travel","objects","symbols","flags"],emojiData:EMOJIS},e),t=Object.entries(o.emojiData).map((([e,o])=>({emoji:e,keywords:o,name:o[0]||"",search:o.join(" ")+" "+e})));return this.each((function(){const e=$(this),i=(()=>{const e=$('\n                <div class="emoji-picker-popup" style="position: absolute; z-index: 9999; display: none; width: 260px; border: 1px solid #ccc; border-radius: 6px; box-shadow: 0 2px 10px rgba(0,0,0,0.15); background: var(--desktop_element-background);">\n                    <input type="text" class="emoji-search" placeholder="Search..." style="width: 100%; padding: 6px; border: none; border-bottom: 1px solid #eee; box-sizing: border-box;" />\n                <div class="emoji-grid" style="max-height: 200px; min-height: 200px; overflow-y: auto; padding: 6px; display: flex; flex-wrap: wrap; align-items: start; gap: 6px; font-size: 20px;"></div>\n                </div>\n            '),i=e.find(".emoji-search"),n=e.find(".emoji-grid"),s=(e="")=>{n.empty(),t.filter((o=>o.search.toLowerCase().includes(e.toLowerCase()))).slice(0,200).forEach((e=>{const t=$(`<button class="emoji-btn" style="border: none; background: none; cursor: pointer;">${e.emoji}</button>`);t.attr("title",e.name||e.keywords.join(", ")),t.on("click",(()=>{o.onSelect(e.emoji)})),n.append(t)}))};return i.on("input",(()=>{s(i.val())})),s(),e})();$("body").append(i);const n=()=>{i.css({left:-9999,top:-9999,display:"block"});const o=e.offset(),t=e.outerHeight(),n=i.outerHeight(),s=o.left,a=o.top-n-8;i.css({left:s,top:a<0?o.top+t+8:a,display:"block"})};e.on("click",(function(e){e.stopPropagation(),n()})),e.data("emojiPicker_show",n),$(document).on("click",(function(o){$(o.target).closest(".emoji-picker-popup").length||$(o.target).is(e)||i.hide()}))}))}}}export{e as default};
//# sourceMappingURL=emoji-picker.js.map
