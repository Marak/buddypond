{"version":3,"file":"rewards.js","sources":["../../../apps/based/rewards/rewards.js"],"sourcesContent":["export default class Rewards {\n  constructor(bp, options = {}) {\n    this.bp = bp;\n    this.options = options;\n    this.rewardInterval = null; // Placeholder for reward interval\n    return this;\n  }\n\n  async init() {\n    //this.html = await this.bp.load('/v5/apps/based/motd/motd.html');\n    //await this.bp.load('/v5/apps/based/motd/motd.css');\n    return 'loaded rewards';\n  }\n\n  async requestReward() {\n    if (this.bp.apps.buddylist.client) {\n      // console.log('requesting rewards');\n      // TODO: make bp.apps.buddylist.client.wsClient.send into a method\n      // add a mutex to avoid spamming the request\n      this.bp.apps.buddylist.client.wsClient.send(JSON.stringify({\n        action: 'rewards:request',\n        buddyname: this.bp.me,\n        qtokenid: this.bp.qtokenid,\n      }));\n    }\n  };\n\n  async open() { }\n\n}\n"],"names":["Rewards","constructor","bp","options","this","rewardInterval","init","requestReward","apps","buddylist","client","wsClient","send","JSON","stringify","action","buddyname","me","qtokenid","open"],"mappings":"AAAe,MAAMA,EACnB,WAAAC,CAAYC,EAAIC,EAAU,IAIxB,OAHAC,KAAKF,GAAKA,EACVE,KAAKD,QAAUA,EACfC,KAAKC,eAAiB,KACfD,IACX,CAEE,UAAME,GAGJ,MAAO,gBACX,CAEE,mBAAMC,GACAH,KAAKF,GAAGM,KAAKC,UAAUC,QAIzBN,KAAKF,GAAGM,KAAKC,UAAUC,OAAOC,SAASC,KAAKC,KAAKC,UAAU,CACzDC,OAAQ,kBACRC,UAAWZ,KAAKF,GAAGe,GACnBC,SAAUd,KAAKF,GAAGgB,WAGvB,CAED,UAAMC,GAAO"}