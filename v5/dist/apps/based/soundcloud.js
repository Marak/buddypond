class o{constructor(o,e={}){return this.bp=o,this.soundCloudEmbeded=!1,this.widget=null,this}async init(){return this.bp.log("Hello from SoundCloud"),this.html=await this.bp.load("/v5/apps/based/soundcloud/soundcloud.html"),"loaded SoundCloud"}async open(o={}){let e=this;if(this.soundcloudWindow||(this.soundcloudWindow=this.bp.apps.ui.windowManager.createWindow({id:"soundcloud",title:"SoundCloud",x:50,y:100,width:600,height:300,minWidth:200,minHeight:200,parent:$("#desktop")[0],content:this.html,resizable:!0,minimizable:!0,maximizable:!0,closable:!0,focusable:!0,maximized:!1,minimized:!1,onClose:()=>{this.soundcloudWindow=null}})),o.playlistID=o.playlistID||"1397493787",!this.soundCloudEmbeded){this.soundCloudEmbeded=!0;let d=`\n            <iframe id="soundcloudiframe" width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/${o.playlistID}&color=%23df23e4&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/marak" title="marak" target="_blank" style="color: #cccccc; text-decoration: none;">marak</a> Â· <a href="https://soundcloud.com/marak/sets/buddy-pond-0" title="Buddy Pond 0" target="_blank" style="color: #cccccc; text-decoration: none;">Buddy Pond 0</a></div>\n            `;$("#soundcloudplayer").append(d),$("#soundcloudiframe").on("load",(function(){let o=document.createElement("script");o.onload=function(){let o=document.querySelector("#soundcloudiframe");o.id,e.widget=SC.Widget(o),console.log("Soundcloud App","Embed Loaded"),e.widget.play()},o.src="desktop/assets/js/soundcloud.js";let d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(o,d)}))}this.bp.apps.ui.windowManager.focusWindow(this.soundcloudWindow)}}export{o as default};
//# sourceMappingURL=soundcloud.js.map
