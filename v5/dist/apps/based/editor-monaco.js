class t{constructor(t,e={}){this.editor=null,this.bp=t,this.options=e}async init(){return await this.bp.appendScript("https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.52.2/min/vs/loader.js"),await this.bp.appendCSS("/v5/apps/based/editor-monaco/editor-monaco.css"),this}async open(){let t=document.documentElement.clientWidth,e=document.documentElement.clientHeight-70;this.editorWindow||(this.editorWindow=this.bp.apps.ui.windowManager.createWindow({id:"monaco-editor",title:"VSCode",x:0,y:20,width:t,height:e,minWidth:200,minHeight:200,parent:$("#desktop")[0],resizable:!0,minimizable:!0,maximizable:!0,closable:!0,focusable:!0,maximized:!1,minimized:!1,onClose:()=>{this.editorWindow=null,this.dispose()}}),this.editorWindow.content.style.flexDirection="row",this.editorHolder=document.createElement("div"),this.editorHolder.className="editor-holder",this.editorWindow.content.appendChild(this.editorHolder)),require.config({paths:{vs:"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.52.2/min/vs"}}),this.create(this.editorWindow.content,this.options.content||"")}async create(t,e=""){let i=this;return new Promise(((o,s)=>{require(["vs/editor/editor.main"],(function(){i.editor=monaco.editor.create(t,{value:e,language:"html",theme:"vs-dark",automaticLayout:!0}),o(i)}))}))}setValue(t=""){this.editor&&this.editor.setValue(t)}getValue(){return this.editor?this.editor.getValue():""}dispose(){this.editor&&this.editor.dispose()}}export{t as default};
//# sourceMappingURL=editor-monaco.js.map
