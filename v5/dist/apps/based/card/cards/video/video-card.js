function e(e,d){const o=$(e),{url:r}=d||{};console.log("Video card data",{url:r}),d.message.text=d.message.text.replace(r,""),o.find(".card-video-loading").show(),o.find(".card-video-content, .card-video-error").addClass("card-video-hidden");const a=["video/mp4","video/webm","video/ogg","video/x-matroska"];fetch(r,{method:"HEAD"}).then((e=>{if(!e.ok)throw new Error(`HTTP ${e.status}`);const d=e.headers.get("content-type")?.toLowerCase();if(!a.some((e=>d.includes(e))))throw new Error("Unsupported video format");return r})).then((e=>{o.find(".card-video-player").attr("src",e),o.find(".card-video-loading").hide(),o.find(".card-video-content").removeClass("card-video-hidden")})).catch((e=>{console.error("Video card error:",e.message),function(e,d){e.find(".card-video-loading").hide();const o=e.find(".card-video-error");o.find(".card-video-error-message").text(d),o.removeClass("card-video-hidden")}(o,e.message.includes("Unsupported")?"Unsupported video format":"Unable to load video")}))}export{e as default};
//# sourceMappingURL=video-card.js.map
