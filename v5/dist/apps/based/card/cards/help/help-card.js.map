{"version":3,"file":"help-card.js","sources":["../../../../../../apps/based/card/cards/help/help-card.js"],"sourcesContent":["const commandSet = [\n    {\n        command: '/apps',\n        additional: '',\n        helpText: 'Lists all installed apps',\n        card: 'apps'\n    },\n    {\n        command: '/bs',\n        additional: '',\n        helpText: 'Lists all available BuddyScript Commands',\n        card: 'bs-commands'\n    },\n    /*\n    {\n        command: '/console',\n        additional: '',\n        helpText: 'Opens the Buddy Pond Console',\n        onClick: function () {\n            this.bp.open('console');\n        }\n    },\n    */\n    {\n        command: '/cast',\n        onClick: function () {\n            // TODO: why this is undefined here\n            console.log('this', this);\n            this.bp.open('spellbook');\n        },\n        helpText: 'Opens the Spellbook to cast spells',\n        card: 'spellbook'\n    },\n    {\n        command: '/gif',\n        additional: 'doge',\n        helpText: 'Searches for a GIF, keyword is optional',\n    },\n    {\n        command: '/image',\n        additional: 'cat',\n        helpText: 'Searches for an image, keyword is optional',\n    },\n\n    {\n        command: '/markdown',\n        helpText: 'Shows markdown and color formatting options',\n        card: 'markdown'\n    },\n    /*\n    {\n        command: '/bs',\n        additional: '',\n        helpText: 'Shows all available BuddyScript Commands'\n    },\n    */\n    /*\n    {\n        command: '/meme',\n        helpText: 'Sends Mnemosyne A.I. Powered meme'\n    },\n    {\n        command: '/meme',\n        additional: ' cool',\n        helpText: 'A.I. Powered meme search'\n    },\n    */\n    {\n        command: '/say',\n        additional: ' hello world',\n        helpText: 'Speaks \"hello world\" to the chat'\n    },\n    /*\n    {\n        command: '/say',\n        additional: ' ðŸ˜‡',\n        helpText: 'Speaks localized \"smiling face with halo\"'\n    },\n    */\n    /*\n    {\n        command: '/points',\n        additional: '',\n        helpText: 'Shows your current Good Buddy Points'\n    },\n    {\n        command: '/points',\n        additional: ' Randolph',\n        helpText: 'Shows how many Good Buddy Points Randolph has'\n    },\n    {\n        command: '/give',\n        additional: ' Randolph 10',\n        helpText: 'Gives Randolph 10 Good Buddy Points'\n    },\n    */\n    {\n        command: '/roll',\n        additional: ' 20',\n        helpText: 'Rolls a d20 dice'\n    },\n    /*\n    {\n        command: '/quit',\n        additional: ' message',\n        helpText: 'Logs out of BuddyPond Desktop'\n    },\n    */\n    {\n        command: '/help',\n        helpText: 'Shows this help message'\n    }\n];\n\nexport default function applyData(el, data, cardClass, parent) {\n    const $el = $(el);\n    const helpCommands = $el.find('.card-help-commands');\n    // get the closest .chatWindow\n    const chatWindow = $el.closest('.chatWindow');\n\n    // Add command elements\n    commandSet.forEach(command => {\n        const commandText = `${command.command}${command.additional ? ' ' + command.additional : ''}`;\n        const helpText = command.helpText;\n        const commandDiv = document.createElement('div');\n        commandDiv.className = 'card-help-command';\n        commandDiv.setAttribute('data-app', command.card || 'none');\n        commandDiv.innerHTML = `\n            <span class=\"card-help-command-text\">${commandText}</span>\n            <span class=\"card-help-command-help\">${helpText}</span>\n        `;\n        // Add click handler for commands\n        commandDiv.addEventListener('click', () => {\n            // Stub action: Log command execution (replace with actual command execution logic)\n            // console.log(`Executing command: ${commandText}`);\n            // Optional: Trigger a visual feedback\n            commandDiv.classList.add('card-help-clicked');\n\n            if (command.onClick) {\n                // not really needed, let bs handle it\n                //command.onClick.call(this);\n                //return; // Exit if onClick is defined\n            }\n\n            // Remark: should run bs script command\n            // this.bp.apps.buddylist.showCard({ chatWindow: parent, cardName: 'apps'})\n            // this doesn't work for /roll...since its a message\n            // maybe just put in text to input and send it?\n            let aimInput = parent.content.querySelector('.aim-input');\n            let sendButton = parent.content.querySelector('.aim-send-btn');\n            if (aimInput) {\n                aimInput.value = commandText;\n                aimInput.dispatchEvent(new Event('input', { bubbles: true })); // Trigger input event\n            }\n            if (sendButton) {\n                sendButton.click(); // Simulate button click\n            }\n            //this.bp.apps.buddyscript.executeCommand(command, chatWindow);\n            // Remark: run bs command with chatWindow as context?\n\n            setTimeout(() => commandDiv.classList.remove('card-help-clicked'), 200);\n        });\n        helpCommands.append(commandDiv);\n    });\n\n    // Add close button functionality\n    $el.find('.card-help-close-btn').on('click', () => {\n        $el.hide(); // Hide the help card (replace with your preferred close logic)\n        // set local storage 'viewed-help-card' to true\n        this.bp.set('viewed-help-card', true);\n    });\n}"],"names":["commandSet","command","additional","helpText","card","onClick","console","log","this","bp","open","applyData","el","data","cardClass","parent","$el","$","helpCommands","find","closest","forEach","commandText","commandDiv","document","createElement","className","setAttribute","innerHTML","addEventListener","classList","add","aimInput","content","querySelector","sendButton","value","dispatchEvent","Event","bubbles","click","setTimeout","remove","append","on","hide","set"],"mappings":"AAAA,MAAMA,EAAa,CACf,CACIC,QAAS,QACTC,WAAY,GACZC,SAAU,2BACVC,KAAM,QAEV,CACIH,QAAS,MACTC,WAAY,GACZC,SAAU,2CACVC,KAAM,eAYV,CACIH,QAAS,QACTI,QAAS,WAELC,QAAQC,IAAI,OAAQC,MACpBA,KAAKC,GAAGC,KAAK,YAChB,EACDP,SAAU,qCACVC,KAAM,aAEV,CACIH,QAAS,OACTC,WAAY,OACZC,SAAU,2CAEd,CACIF,QAAS,SACTC,WAAY,MACZC,SAAU,8CAGd,CACIF,QAAS,YACTE,SAAU,8CACVC,KAAM,YAoBV,CACIH,QAAS,OACTC,WAAY,eACZC,SAAU,oCA0Bd,CACIF,QAAS,QACTC,WAAY,MACZC,SAAU,oBASd,CACIF,QAAS,QACTE,SAAU,4BAIH,SAASQ,EAAUC,EAAIC,EAAMC,EAAWC,GACnD,MAAMC,EAAMC,EAAEL,GACRM,EAAeF,EAAIG,KAAK,uBAEXH,EAAII,QAAQ,eAG/BpB,EAAWqB,SAAQpB,IACf,MAAMqB,EAAc,GAAGrB,EAAQA,UAAUA,EAAQC,WAAa,IAAMD,EAAQC,WAAa,KACnFC,EAAWF,EAAQE,SACnBoB,EAAaC,SAASC,cAAc,OAC1CF,EAAWG,UAAY,oBACvBH,EAAWI,aAAa,WAAY1B,EAAQG,MAAQ,QACpDmB,EAAWK,UAAY,sDACoBN,8DACAnB,qBAG3CoB,EAAWM,iBAAiB,SAAS,KAIjCN,EAAWO,UAAUC,IAAI,qBAErB9B,EAAQI,QAUZ,IAAI2B,EAAWjB,EAAOkB,QAAQC,cAAc,cACxCC,EAAapB,EAAOkB,QAAQC,cAAc,iBAC1CF,IACAA,EAASI,MAAQd,EACjBU,EAASK,cAAc,IAAIC,MAAM,QAAS,CAAEC,SAAS,MAErDJ,GACAA,EAAWK,QAKfC,YAAW,IAAMlB,EAAWO,UAAUY,OAAO,sBAAsB,QAEvExB,EAAayB,OAAOpB,MAIxBP,EAAIG,KAAK,wBAAwByB,GAAG,SAAS,KACzC5B,EAAI6B,OAEJrC,KAAKC,GAAGqC,IAAI,oBAAoB,KAExC"}