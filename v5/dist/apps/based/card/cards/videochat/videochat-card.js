function e(e,t){const c=$(e);let l=c.find(".card-videocall-header"),o=c.find(".accept-call"),a=c.find(".decline-call");t.message.from===this.bp.me?(l.text("Outgoing call to "+t.message.to),o.text("Open videocall"),a.hide()):(l.text("Incoming call from "+t.message.from),o.text("Accept call"),a.text("Decline")),c.find(".accept-call").click((()=>{t.message.from===this.bp.me?this.bp.open("videochat",{type:"buddy",context:t.message.to,isHost:!0}):this.bp.open("videochat",{type:"buddy",context:t.message.from,acceptedCall:!0})})),c.find(".decline-call").click((()=>(console.log("Call declined"),!1)));const i=new Date,s=new Date(t.message.ctime);(i.getTime()-s.getTime())/1e3>10||t.message.from===this.bp.me||(console.log("opening videocall app",e,t),this.bp.open("videochat",{type:"buddy",context:t.message.from}))}export{e as default};
//# sourceMappingURL=videochat-card.js.map
