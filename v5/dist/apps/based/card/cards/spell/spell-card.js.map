{"version":3,"file":"spell-card.js","sources":["../../../../../../apps/based/spellbook/lib/spellData.js","../../../../../../apps/based/card/cards/spell/spell-card.js"],"sourcesContent":["export default {\n  spells: [\n    {\n      name: 'zalgo',\n      label: 'Zalgo',\n      icon: 'ðŸ‘¹',\n      description: 'Corrupts text with chaotic glyphs.',\n      cost: 10,\n      costText: 'ðŸª™3',\n      costSymbol: 'B.webp,B.webp',\n      config: {\n        targets: ['self', 'buddy'],\n        intensity: { type: 'number', label: 'Intensity', value: 10, min: 1, max: 50 },\n      },\n    },\n    /*\n    {\n      name: 'ebublio',\n      description: 'Traps target in a bubble.',\n      cost: 60,\n      costText: 'ðŸª™2',\n      config: { duration: { type: 'number', label: 'Duration (seconds)', value: 30, min: 10, max: 300 } },\n    },\n    */\n    {\n      name: 'cure',\n      label: 'Cure',\n      icon: 'ðŸ’Š',\n      description: 'Removes a curse from the target.',\n      cost: 20,\n      costText: 'ðŸª™4',\n      costSymbol: 'W.webp',\n      config: { targets: ['self'] },\n    },\n    {\n      name: 'rickroll',\n      label: 'Rickroll',\n      icon: 'ðŸŽµ',\n      description: 'Plays a classic prank video.',\n      cost: 10,\n      costText: 'ðŸª™1',\n      costSymbol: 'U.webp',\n      config: {\n        targets: ['self'],\n        url: { type: 'text', label: 'Video URL', value: 'https://youtu.be/dQw4w9WgXcQ' },\n      },\n    },\n    {\n      name: 'forbiddenRickRoll',\n      label: 'Forbidden Rickroll',\n      icon: 'ðŸ”’',\n      description: 'An inescapable prank video.',\n      cost: 30,\n      costText: 'ðŸª™2',\n      costSymbol: 'B.webp,U.webp,G.webp',\n      config: { targets: ['self'] },\n    },\n    {\n      name: 'lightning',\n      label: 'Lightning',\n      icon: 'âš¡ï¸',\n      description: 'Strikes with a dazzling bolt.',\n      cost: 80,\n      costText: 'ðŸª™3',\n      costSymbol: 'R.webp',\n      config: {\n        targets: ['self', 'buddy', 'pond'],\n        intensity: { type: 'number', label: 'Intensity', value: 5, min: 1, max: 10 },\n      },\n    },\n    {\n      name: 'fireball',\n      label: 'Fireball',\n      icon: 'ðŸ”¥',\n      description: 'Hurls a fiery projectile.',\n      cost: 80,\n      costText: 'ðŸª™3',\n      costSymbol: 'R.webp',\n      config: {\n        targets: ['self', 'buddy', 'pond'],\n        power: { type: 'number', label: 'Power', value: 5, min: 1, max: 10 },\n      },\n    },\n    {\n      name: 'earthquake',\n      label: 'Earthquake',\n      icon: 'ðŸŒ',\n      description: 'Shakes the ground beneath.',\n      cost: 80,\n      costText: 'ðŸª™3',\n      costSymbol: 'R.webp,G.webp',\n      config: {\n        targets: ['self', 'buddy', 'pond'],\n        magnitude: { type: 'number', label: 'Magnitude', value: 5, min: 1, max: 10 },\n      },\n    },\n    {\n      name: 'flood',\n      label: 'Flood',\n      icon: 'ðŸŒŠ',\n      description: 'Covers the area in water.',\n      cost: 80,\n      costText: 'ðŸª™3',\n      costSymbol: 'U.webp',\n      config: {\n        targets: ['self', 'buddy', 'pond'],\n        depth: { type: 'number', label: 'Depth', value: 5, min: 1, max: 10 },\n      },\n    },\n    {\n      name: 'vortex',\n      label: 'Vortex',\n      icon: 'ðŸŒªï¸',\n      description: 'Creates a swirling wind.',\n      cost: 80,\n      costText: 'ðŸª™3',\n      costSymbol: 'U.webp,R.webp',\n      config: {\n        targets: ['self', 'buddy', 'pond'],\n        strength: { type: 'number', label: 'Strength', value: 5, min: 1, max: 10 },\n      },\n    },\n    {\n      name: 'barrelRoll',\n      label: 'Barrel Roll',\n      icon: 'ðŸŽ¢',\n      description: 'Performs a barrel roll.',\n      cost: 10,\n      costText: 'ðŸª™1',\n      costSymbol: 'U.webp, R.webp',\n      config: { targets: ['self', 'buddy', 'pond'] },\n    },\n    {\n      name: 'alert',\n      label: 'Alert',\n      icon: 'ðŸ“¢',\n      description: 'Displays a custom message.',\n      cost: 10,\n      costText: 'ðŸª™1',\n      costSymbol: 'W.webp',\n      config: {\n        targets: ['self', 'buddy'],\n        text: { type: 'text', label: 'Message', value: 'You have been cursed!' },\n      },\n    },\n    {\n      name: 'logout',\n      label: 'Logout',\n      icon: 'ðŸšª',\n      description: 'Forces the target to log out.',\n      cost: 250,\n      costText: 'ðŸª™5',\n      costSymbol: 'B.webp',\n      config: { },\n    },\n  ],\n\n  curses: [\n    {\n      name: 'babel',\n      label: 'Babel.js',\n      icon: 'ðŸ—£ï¸',\n      description: 'Scrambles communication.',\n      cost: 120,\n      costText: 'ðŸª™3',\n      costSymbol: 'U.webp, B.webp',\n      config: {\n        targets: ['self'],\n        duration: { type: 'number', label: 'Curse Duration', value: 1, min: 1, max: 5 },\n      },\n    },\n    {\n      name: 'riddikulus',\n      label: 'Riddikulus',\n      icon: 'ðŸ˜‚',\n      description: 'Turns fears into something funny.',\n      cost: 60,\n      costText: 'ðŸª™2',\n      costSymbol: 'U.webp, B.webp',\n      config: {\n        targets: ['self'],\n        duration: { type: 'number', label: 'Duration (seconds)', value: 1, min: 1, max: 5 },\n      },\n    },\n    {\n      name: 'no-uploads',\n      label: 'No Uploads',\n      icon: 'ðŸš«',\n      description: 'Prevents uploads for a duration.',\n      cost: 150,\n      costText: 'ðŸª™5',\n      costSymbol: 'B.webp, W.webp',\n      config: {\n        duration: { type: 'number', label: 'Curse Duration', value: 1, min: 1, max: 5 },\n      },\n    },\n    {\n      name: 'banhammer',\n      label: 'Banhammer',\n      icon: 'ðŸ”¨',\n      description: 'Temporarily bans the target.',\n      cost: 1000,\n      costText: 'ðŸª™10',\n      costSymbol: 'W.webp,B.webp',\n      config: {\n        duration: { type: 'number', label: 'Ban Duration (seconds)', value: 600, min: 300, max: 86400 },\n      },\n    },\n  ],\n\n  memes: [\n    {\n      name: 'chicken-jockey',\n      label: 'Chicken Jockey',\n      icon: 'ðŸ”',\n      description: 'Summons a chicken jockey.',\n      cost: 10,\n      costText: 'ðŸª™1',\n      costSymbol: 'G.webp',\n      config: {\n        targets: ['self', 'buddy', 'pond'],\n        duration: { type: 'number', label: 'Duration (seconds)', value: 5, min: 1, max: 10 },\n      },\n    },\n    {\n      name: 'hamster-dance',\n      label: 'Hamster Dance',\n      icon: 'ðŸ¹',\n      description: 'Plays a funny hamster dance sound.',\n      cost: 10,\n      costText: 'ðŸª™1',\n      costSymbol: 'G.webp',\n      config: {\n        targets: ['self', 'buddy', 'pond'],\n        volume: { type: 'number', label: 'Volume', value: 5, min: 1, max: 10 },\n      },\n    },\n    {\n      name: 'cappuccino-assassino',\n      label: 'Cappuccino Assassino',\n      icon: 'â˜•',\n      description: 'Summons a cappuccino assassin.',\n      cost: 10,\n      costText: 'ðŸª™1',\n      costSymbol: 'B.webp, R.webp',\n      config: {\n        targets: ['self', 'buddy', 'pond'],\n        duration: { type: 'number', label: 'Duration (seconds)', value: 5, min: 1, max: 10 },\n      },\n    },\n    {\n      name: 'peanut-butter-jelly-time',\n      label: 'Peanut Butter Jelly Time',\n      icon: 'ðŸž',\n      description: 'Plays a funny peanut butter jelly time sound.',\n      cost: 10,\n      costText: 'ðŸª™1',\n      costSymbol: 'R.webp, G.webp',\n      config: {\n        targets: ['self', 'buddy', 'pond'],\n        volume: { type: 'number', label: 'Volume', value: 5, min: 1, max: 10 },\n      },\n    },\n  ],\n};\n","// TODO: discoParty\n// TODO: pixelate\nimport spellData from '../../../spellbook/lib/spellData.js';\nexport default async function applyData(el, data) {\n    const $el = $(el);\n    //console.log('Spell card data', data);\n    let allSpells = spellData.spells.concat(spellData.memes).concat(spellData.curses);\n    let spell = allSpells.find((spell) => {\n        return spell.name === data.spell;\n    });\n\n    // console.log('Spell data', spell);\n\n    if (spell && spell.costSymbol) {\n        let costSymbols = spell.costSymbol.split(',');\n        let str = '';\n        costSymbols.forEach((symbol) => {\n            let img = `<img src=\"/v5/apps/based/spellbook/assets/cost-symbols/${symbol.trim()}\" class=\"spell-cost-symbol\" />`;\n            str += img;\n        });\n        $el.find('.card-spell-cost').html(str);\n    }\n\n    $el.on('click', (e) => {\n        // re-apply the spell locally\n        e.preventDefault();\n        e.stopPropagation();\n        if (data.spellType === 'spells' || data.spellType === 'memes') {\n            runSpell.call(this, data);\n        }\n    });\n\n    let targetName = data.target;\n    if (data.target === data.castedBy) {\n        targetName = 'myself.';\n    }\n\n    let spellTypeLabel = 'an Invocation';\n    if (data.spellType === 'curses') {\n        spellTypeLabel = 'a Curse';\n    }\n    if (data.spellType === 'memes') {\n        spellTypeLabel = 'a Meme';\n    }\n\n    $el.find('.card-spell-target').text(`I cast ${spellTypeLabel} on ` + targetName);\n    $el.find('.card-spell-name').text(data.spellLabel);\n\n\n    if (data.spellType !== 'curses') {\n        // remove .card-spell-duration\n        $el.find('.card-spell-duration').remove();\n    }\n\n    if (data.expiry) {\n        // Initialize countdown\n        const countDownEl = $el.find('.card-spell-duration .countdown-date');\n        // set data-ctime to the data.ctime\n        countDownEl.data('ctime', data.message.ctime);\n        // console.log('Setting countdown for spell card', data.expiry, countDownEl);\n        this.bp.apps.ui.countdownManager.startCountdown(countDownEl, data.expiry, function onExpire($el) {\n            $el.parent().text('Curse has Expired.');\n        });\n    }\n    // console.log('Spell card countdown expired', $el);\n\n    if (data.spellType === 'curses' && data.castedBy === this.bp.me) {\n        // console.log('Cursed by me', data);\n        // show the cure button\n        $el.find('.card-spell-cure').removeClass('hidden');\n        $el.find('.cure-spell').on('click', async (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            let target = data.target;\n            let spell = data.spell;\n            // let result = await this.castSpell(target, spellName, { type: spellType, config });\n\n            console.log('Cure spell clicked', target, spell);\n            // ensure spellbook is loaded\n            await this.bp.load('spellbook');\n            let result = await this.bp.apps.spellbook.castSpell(data.targetType, data.target, 'cure', {\n                type: 'spells'\n            });\n        });\n    }\n\n\n    const now = new Date();\n    const messageDate = new Date(data.message.ctime);\n    const timeDiff = (now.getTime() - messageDate.getTime()) / 1000;\n    let message = data.message;\n\n    // Check for processed cards to avoid double-casting\n    let processedCards = bp.get('processedCards') || [];\n    if (processedCards.includes(message.uuid)) {\n        return;\n    }\n\n    // In case local storage is fresh, or a new user, we do need to put a time limit on the spell\n    if (timeDiff > 10) {\n        // Don't re-cast the spell if it's been more than 10 seconds\n        return;\n    }\n\n    processedCards.push(message.uuid);\n    if (processedCards.length > 1000) {\n        processedCards = processedCards.slice(-1000);\n    }\n    bp.set('processedCards', processedCards);\n\n    // apply the spell if me is the target\n    // curses do not require client-side processing ( curses are applied server-side )\n    // spells and memes are processed client-side and require a dynamic import of the spell\n    if (data.targetType === 'buddy' && data.target === this.bp.me && message.type !== 'pond' /*&& data.spellType !== 'curses'*/) {\n        try {\n            await runSpell.call(this, data);\n\n        } catch (error) {\n            console.error('Error running spell:', error);\n\n        }\n    }\n    if (data.targetType === 'pond' /*&& data.spellType !== 'curses'*/) {\n        try {\n            await runSpell.call(this, data);\n\n        } catch (error) {\n            console.error('Error running spell:', error);\n        }\n    }\n\n}\n\nasync function runSpell(data) {\n    // dynamically import the spell\n    try {\n        let spellModule = await this.bp.importModule(`/v5/apps/based/spellbook/spells/${data.spell}/${data.spell}.js`, {}, false);\n        spellModule.default.call(this);\n    }\n    catch (error) {\n        console.log('Error importing spell module:', error);\n    }\n}\n"],"names":["spellData","spells","name","label","icon","description","cost","costText","costSymbol","config","targets","intensity","type","value","min","max","url","power","magnitude","depth","strength","text","curses","duration","memes","volume","async","applyData","el","data","$el","$","spell","concat","find","costSymbols","split","str","forEach","symbol","img","trim","html","on","e","preventDefault","stopPropagation","spellType","runSpell","call","this","targetName","target","castedBy","spellTypeLabel","spellLabel","remove","expiry","countDownEl","message","ctime","bp","apps","ui","countdownManager","startCountdown","parent","me","removeClass","console","log","load","spellbook","castSpell","targetType","now","Date","messageDate","timeDiff","getTime","processedCards","get","includes","uuid","push","length","slice","set","error","importModule","default"],"mappings":"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"}