async function t(t,e,n,r){const i=$(t);i.find(".card-url-url").text(e.url),i.find(".card-url-url").attr("href",e.url),i.find(".card-url-url").attr("target","_blank"),i.find(".card-github-file").text(e.filename),i.find(".card-github-repo").text(`${e.owner}/${e.repo}`),await n.bp.appendScript("https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"),await n.bp.appendCSS("https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-coy.css"),i.find(".card-github-header").click((()=>{window.open(e.url,"_blank")})),async function(t,e,n,r){try{const i=t.replace("github.com","raw.githubusercontent.com").replace("/blob/","/"),a=await fetch(i);if(!a.ok)throw new Error("Failed to fetch");let l=await a.text();let c=l.split("\n").join("\n");const p=i.split(".").pop(),o=e.find("code");function s(){r&&r.content&&n.bp&&n.bp.apps&&n.bp.apps.buddylist&&n.bp.apps.buddylist.scrollToBottom(r.content)}o.text(c),o.addClass(`language-${p}`),Prism.highlightElement(o[0]),s.call(this)}catch(d){console.log("Error fetching GitHub snippet:",d),e.find("code").text("Error loading preview.")}}(e.url,i,n,r)}export{t as default};
//# sourceMappingURL=github-card.js.map
