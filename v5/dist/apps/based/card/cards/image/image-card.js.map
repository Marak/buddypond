{"version":3,"file":"image-card.js","sources":["../../../../../../apps/based/card/cards/image/image-card.js"],"sourcesContent":["export default function applyData(el, data, cardClass, parentWindow) {\n    const $el = $(el);\n\n    // replace the URL in the message text since the image card will handle it as embed\n    // this allows a message with an image URL to be sent without the URL showing up in the chat\n    data.message.text = data.message.text.replace(data.url, '');\n\n    // add onload event to image\n    $el.find('.image-image').on('load', function () {\n        // remove loading class\n        // $el.removeClass('loading');\n        // remove loading spinner\n        // $el.find('.loading-spinner').remove();\n        if (cardClass.bp && cardClass.bp.apps && cardClass.bp.apps.buddylist) {\n            cardClass.bp.apps.buddylist.scrollToBottom(parentWindow.content);\n        }\n    });\n    $el.find('.image-image').attr('src', data.url);\n  \n    // $el.find('.remixGif').data('output', data.message.type);\n    // $el.find('.remixGif').data('context', data.message.to);\n\n    // TODO: replace this with data.message.chatId in the future\n    if (data.message.type === 'pond') {\n        $el.find('.remixPaint').data('output', data.message.type);\n        $el.find('.remixPaint').data('context', data.message.to);\n    } else {\n        $el.find('.remixPaint').data('output', data.message.type);\n        // Remark: Temporary solution to get context for legacy paint app\n        // In the future we can simply user the chatId to get the correct target context\n        if (data.message.from === this.bp.me) {\n            $el.find('.remixPaint').data('context', data.message.to);\n        } else {\n            $el.find('.remixPaint').data('context', data.message.from);\n        }\n    }\n\n  }"],"names":["applyData","el","data","cardClass","parentWindow","$el","$","message","text","replace","url","find","on","bp","apps","buddylist","scrollToBottom","content","attr","type","to","from","this","me"],"mappings":"AAAe,SAASA,EAAUC,EAAIC,EAAMC,EAAWC,GACnD,MAAMC,EAAMC,EAAEL,GAIdC,EAAKK,QAAQC,KAAON,EAAKK,QAAQC,KAAKC,QAAQP,EAAKQ,IAAK,IAGxDL,EAAIM,KAAK,gBAAgBC,GAAG,QAAQ,WAK5BT,EAAUU,IAAMV,EAAUU,GAAGC,MAAQX,EAAUU,GAAGC,KAAKC,WACvDZ,EAAUU,GAAGC,KAAKC,UAAUC,eAAeZ,EAAaa,QAEpE,IACIZ,EAAIM,KAAK,gBAAgBO,KAAK,MAAOhB,EAAKQ,KAMhB,SAAtBR,EAAKK,QAAQY,MACbd,EAAIM,KAAK,eAAeT,KAAK,SAAUA,EAAKK,QAAQY,MACpDd,EAAIM,KAAK,eAAeT,KAAK,UAAWA,EAAKK,QAAQa,MAErDf,EAAIM,KAAK,eAAeT,KAAK,SAAUA,EAAKK,QAAQY,MAGhDjB,EAAKK,QAAQc,OAASC,KAAKT,GAAGU,GAC9BlB,EAAIM,KAAK,eAAeT,KAAK,UAAWA,EAAKK,QAAQa,IAErDf,EAAIM,KAAK,eAAeT,KAAK,UAAWA,EAAKK,QAAQc,MAIjE"}