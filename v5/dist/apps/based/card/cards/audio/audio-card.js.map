{"version":3,"file":"audio-card.js","sources":["../../../../../../apps/based/card/cards/audio/audio-card.js"],"sourcesContent":["export default function applyData(el, data) {\n    let soundUrl = data.url;\n    // console.log(\"APplying data to audio card\", data, soundUrl);\n    let audioCardEl = $(el).find('.audio-card'); // TODO: remove data- attrs   here, not required?\n    audioCardEl.attr('data-url', soundUrl);\n    audioCardEl.attr('data-uuid', data.message.uuid);\n    audioCardEl.attr('data-to', data.message.to);\n    audioCardEl.attr('data-from', data.message.from);\n    audioCardEl.attr('data-context', data.message.context);\n\n\n    // Assuming data has properties like `title` and `soundURL`\n    $(el).find('.card-title').text(data.title);\n    $(el).find('.audio-player').attr('src', soundUrl);\n\n    // add click event to class=audioPlayer\n    $(el).find('.openAudioPlayer').click(async (e) => {\n        // console.log('audio-player clicked', soundUrl);\n        // play audio\n\n\n        // create the track\n        let t = bp.apps['audio-track'].createAudioTrack({\n            fileName: soundUrl,\n            url: soundUrl\n        });\n        console.log('created audio track', t);\n\n        // render the track\n        let trackElement = t.render();\n        console.log('rendered audio track', trackElement);\n\n        // append the track to the body\n        document.body.appendChild(trackElement);\n\n        // load the track\n        await t.load();\n        console.log(\"loaded audio track\", t);\n        \n        await t.play();\n\n\n        //$(el).find('.audio-player')[0].play();\n    });\n\n}"],"names":["applyData","el","data","soundUrl","url","audioCardEl","$","find","attr","message","uuid","to","from","context","text","title","click","async","e","t","bp","apps","createAudioTrack","fileName","console","log","trackElement","render","document","body","appendChild","load","play"],"mappings":"AAAe,SAASA,EAAUC,EAAIC,GAClC,IAAIC,EAAWD,EAAKE,IAEhBC,EAAcC,EAAEL,GAAIM,KAAK,eAC7BF,EAAYG,KAAK,WAAYL,GAC7BE,EAAYG,KAAK,YAAaN,EAAKO,QAAQC,MAC3CL,EAAYG,KAAK,UAAWN,EAAKO,QAAQE,IACzCN,EAAYG,KAAK,YAAaN,EAAKO,QAAQG,MAC3CP,EAAYG,KAAK,eAAgBN,EAAKO,QAAQI,SAI9CP,EAAEL,GAAIM,KAAK,eAAeO,KAAKZ,EAAKa,OACpCT,EAAEL,GAAIM,KAAK,iBAAiBC,KAAK,MAAOL,GAGxCG,EAAEL,GAAIM,KAAK,oBAAoBS,OAAMC,MAAOC,IAMxC,IAAIC,EAAIC,GAAGC,KAAK,eAAeC,iBAAiB,CAC5CC,SAAUpB,EACVC,IAAKD,IAETqB,QAAQC,IAAI,sBAAuBN,GAGnC,IAAIO,EAAeP,EAAEQ,SACrBH,QAAQC,IAAI,uBAAwBC,GAGpCE,SAASC,KAAKC,YAAYJ,SAGpBP,EAAEY,OACRP,QAAQC,IAAI,qBAAsBN,SAE5BA,EAAEa,SAMhB"}