let e={"index.html":'\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Welcome to Your BuddyPad</title>\n    <link rel="stylesheet" href="./style.css">\n</head>\n<body>\n    <h1>Your BuddyPad</h1>\n    <div class="welcome-section">\n        <p>Welcome to your BuddyPad, a custom page hosted on the BuddyPond CDN!</p>\n        <p><strong>About BuddyPads:</strong></p>\n        <p>BuddyPads are custom routed pages on BuddyPond, allowing you to host any static content. Each BuddyPad is stored as a virtual directory in our CDN, accessible via the <strong>Buddy Files</strong> app in the "pads" folder.</p>\n        <p><strong>How to Customize Your BuddyPad:</strong></p>\n        <ul>\n            <li><strong>This Default Pad</strong>: This page includes <code>index.html</code> (structure), <code>style.css</code> (styling), and <code>index.js</code> (interactivity). These are linked using relative paths (e.g., <code>./style.css</code>, <code>./index.js</code>).</li>\n            <li><strong>Upload Any Files</strong>: Use the <strong>Buddy Files</strong> app (navigate to the "pads" folder) to upload any static files, such as HTML, CSS, JS, images, or entire projects (e.g., React, Vue, or static sites).</li>\n            <li><strong>Flexible Structure</strong>: You\'re not limited to these default files. Create multiple files, folders, or complex project structures. The BuddyPond CDN serves your content as configured.</li>\n            <li><strong>Accessing Your Pad</strong>: Your BuddyPad is hosted at a unique URL and served directly from our CDN for fast, reliable delivery.</li>\n        </ul>\n        <p><strong>Try It Out:</strong> Click the button below to toggle the color of the boxes, demonstrating how HTML, CSS, and JS work together.</p>\n        <button id="toggleButton">Toggle Box Colors</button>\n        <div class="box-container">\n            <div class="color-box"></div>\n            <div class="color-box"></div>\n            <div class="color-box"></div>\n        </div>\n    </div>\n    <script src="./index.js"><\/script>\n</body>\n</html>\n',"style.css":"\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    background-color: #f4f4f9;\n    color: #333;\n    margin: 0;\n    padding: 20px;\n    line-height: 1.6;\n}\nh1 {\n    color: #007bff;\n    text-align: center;\n}\n.welcome-section {\n    max-width: 800px;\n    margin: 0 auto;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\nul {\n    padding-left: 20px;\n}\ncode {\n    background: #f0f0f0;\n    padding: 2px 4px;\n    border-radius: 4px;\n}\nbutton {\n    background-color: #007bff;\n    color: white;\n    padding: 10px 20px;\n    border: none;\n    border-radius: 5px;\n    cursor: pointer;\n    display: block;\n    margin: 20px auto;\n}\nbutton:hover {\n    background-color: #0056b3;\n}\n.box-container {\n    display: flex;\n    gap: 20px;\n    justify-content: center;\n}\n.color-box {\n    width: 100px;\n    height: 100px;\n    background-color: #28a745;\n    border-radius: 10px;\n    transition: background-color 0.3s ease;\n}\n.color-box.toggled {\n    background-color: #dc3545;\n}\n","index.js":"\nconsole.log('Welcome to your BuddyPad!');\n// Example: Using querySelectorAll to add interactivity\nconst boxes = document.querySelectorAll('.color-box');\nconst toggleButton = document.getElementById('toggleButton');\n\ntoggleButton.addEventListener('click', () => {\n    boxes.forEach(box => {\n        box.classList.toggle('toggled');\n    });\n});\n"};function t(e){return e.endsWith(".html")?"text/html":e.endsWith(".css")?"text/css":e.endsWith(".js")?"application/javascript":"text/plain"}var n={admin:{name:"admin",icon:"desktop/assets/images/icons/icon_profile_64.png",label:"Admin",onClick:"bp.open('admin')",adminOnly:!0},profile:{icon:"desktop/assets/images/icons/icon_profile_64.png",label:"My Profile",description:"Manage your profile and settings",onClick:"bp.open('profile')",categories:["social","productivity"]},buddylist:{icon:"desktop/assets/images/icons/icon_profile_64.png",label:"BuddyList",description:"View and manage your contacts",onClick:"bp.open('buddylist')",categories:["social","community"]},pad:{icon:"desktop/assets/images/icons/icon_pad_64.png",label:"Buddy Apps",description:"Create hosted Apps for Buddy Pond",onClick:"bp.open('pad')",categories:["productivity","creative","community"]},pond:{icon:"desktop/assets/images/icons/icon_pond_64.png",label:"Ponds",description:"Explore shared content or communities",onClick:"bp.open('pond')",categories:["community","social"]},"file-explorer":{icon:"desktop/assets/images/icons/icon_file-explorer_64.png",label:"Buddy Files",description:"Browse and manage your files",onClick:"bp.open('file-explorer')",desktopOnly:!0,categories:["files","productivity"]},"file-viewer":{icon:"desktop/assets/images/icons/icon_file-viewer_64.png",label:"File Viewer",description:"View files in various formats",onClick:"bp.open('file-viewer')",categories:["files","productivity"]},paint:{icon:"desktop/assets/images/icons/icon_paint_64.png",label:"Paint",description:"Create and edit digital artwork",onClick:"bp.open('paint')",categories:["art","creative"]},soundrecorder:{icon:"desktop/assets/images/icons/icon_soundrecorder_64.png",label:"Sound Recorder",description:"Record and save audio clips",onClick:"bp.open('soundrecorder')",desktopOnly:!0,categories:["audio","creative"]},youtube:{icon:"desktop/assets/images/icons/icon_interdimensionalcable_64.png",label:"Inter Dimensional Cable",description:"Watch and browse YouTube videos",onClick:"bp.open('youtube')",categories:["entertainment","media"]},camera:{icon:"desktop/assets/images/icons/icon_camera_64.png",label:"Camera",description:"Capture photos or videos",onClick:"bp.open('camera')",categories:["media","creative"]},piano:{icon:"desktop/assets/images/icons/icon_piano_64.png",label:"Piano",description:"Play a virtual piano keyboard",onClick:"bp.open('piano')",desktopOnly:!0,categories:["music","creative"]},"fluid-simulation":{icon:"desktop/assets/images/icons/icon_fluidsimulation_64.png",label:"Fluid Simulation",description:"Interact with a fluid dynamics simulation",onClick:"bp.open('fluid-simulation')",categories:["creative","entertainment"]},sampler:{icon:"desktop/assets/images/icons/icon_midifighter_64.png",label:"Sampler",description:"Create and mix audio samples",onClick:"bp.open('sampler')",categories:["audio","music","creative"]},"audio-visual":{icon:"desktop/assets/images/icons/icon_visuals_64.png",label:"Audio Visuals",description:"Experience audio-responsive visuals",onClick:"bp.open('audio-visual')",categories:["creative","entertainment","audio"]},coin:{icon:"desktop/assets/images/icons/icon_coin_64.png",label:"Buddy Coins",description:"Manage your virtual currency",onClick:"bp.open('coin')",categories:["finance"]},portfolio:{icon:"desktop/assets/images/icons/icon_portfolio_64.png",label:"Portfolio",description:"Track your investments and assets",onClick:"bp.open('portfolio')",categories:["finance"]},"audio-player":{icon:"desktop/assets/images/icons/icon_audio-player_64.png",label:"Audio Player",description:"Play and manage audio files",onClick:"bp.open('audio-player')",categories:["media","audio"]},mantra:{icon:"desktop/assets/images/icons/icon_mantra_64.png",label:"Mantra",description:"Play the Mantra game",categories:["games"]},minesweeper:{icon:"desktop/assets/images/icons/icon_minesweeper_64.png",label:"Minesweeper",description:"Classic Minesweeper puzzle game",categories:["games"]},"emulator-nes":{icon:"desktop/assets/images/icons/icon_nes_64.png",app:"emulator",context:"nes",label:"NES",description:"Play Nintendo Entertainment System games",options:{context:"nes"},categories:["games","emulators"]},"emulator-sega":{icon:"desktop/assets/images/icons/icon_sega_64.png",app:"emulator",context:"sega",label:"Sega",description:"Play Sega console games",options:{context:"sega"},categories:["games","emulators"]},"emulator-snes":{icon:"desktop/assets/images/icons/icon_snes_64.png",app:"emulator",context:"snes",label:"SNES",description:"Play Super Nintendo games",options:{context:"snes"},categories:["games","emulators"]},"emulator-atari2600":{icon:"desktop/assets/images/icons/icon_atari2600_64.png",app:"emulator",context:"atari2600",label:"Atari 2600",description:"Play Atari 2600 games",options:{context:"atari2600"},categories:["games","emulators"]},"emulator-n64":{icon:"desktop/assets/images/icons/icon_n64_64.png",app:"emulator",context:"n64",label:"n64",description:"Play Nintendo 64 games",options:{context:"n64"},categories:["games","emulators"]},solitaire:{icon:"desktop/assets/images/icons/icon_solitaire_64.png",label:"Solitaire",description:"Classic Solitaire card game",categories:["games"]},globe:{icon:"desktop/assets/images/icons/icon_globe_64.png",label:"Globe",description:"Visualize global network data",categories:["tools"]},"hacker-typer":{icon:"desktop/assets/images/icons/icon_hacker-typer_64.png",label:"Hack Typer",description:"Simulate hacking with a typing game",categories:["tools","games"]},"hex-editor":{icon:"desktop/assets/images/icons/icon_hex-editor_64.png",label:"Hex Editor",description:"Edit files in hexadecimal format",categories:["tools","productivity"]},maps:{icon:"desktop/assets/images/icons/icon_maps_64.png",label:"Maps",description:"Access mapping and navigation tools",categories:["tools"]},spellbook:{icon:"desktop/assets/images/icons/icon_spellbook_64.png",label:"Spellbook",description:"Manage scripts or commands",categories:["tools","productivity"]}};class a{constructor(e,t={}){return this.bp=e,this.icon="/desktop/assets/images/icons/icon_pad_64.png",this.data={},this}async help(){return"Pads are a fun way to create and share content with others.\n\n        You may create pads here and such...etc.\n\n        Enjoy!\n\n        "}async init(){this.bp.log("Hello from Pad");let e=await this.bp.load("/v5/apps/based/pad/pad.html");await this.bp.load("/v5/apps/based/pad/pad.css");let t=await this.bp.importModule("/v5/apps/based/pad/vendor/slugify.min.js",{},!1);this.slugify=t.slugifyDefault;try{this.data.appStats=await this.bp.apps.desktop.client.getAppsStats()}catch(e){this.data.appStats={}}return this.data.appStats||(this.data.appStats={}),console.log("appStats",this.data.appStats),this.html=e,"loaded Pad"}async bindUI(){}async open(){async function e(){this.myPads=await this.bp.apps.client.api.getPads(),console.log("myPadsmyPads",this.myPads),this.renderPadRows(this.myPads.results)}this.padWindow||(this.padWindow=this.bp.apps.ui.windowManager.createWindow({id:"pad",title:"Buddy Apps",x:50,y:60,width:1e3,height:600,minWidth:200,minHeight:200,icon:this.icon,parent:$("#desktop")[0],content:this.html,resizable:!0,minimizable:!0,maximizable:!0,closable:!0,focusable:!0,maximized:!1,minimized:!1,onClose:()=>{this.padWindow=null}}),this.tabs=new this.bp.apps.ui.Tabs(".tabs-container",this.padWindow.content),this.tabs.onTab((async t=>{"#pads-home"===t&&(this.myPads=await e.call(this)),"#buddy-pads"===t&&(this.renderAppList(this.data.appStats),$(".bp-pads-search-input",this.padWindow.content).focus())})),$(".bp-pads-search-input",this.padWindow.content).on("input",(e=>{}))),$(".tab-content:first",this.padWindow.content).show(),console.log(this.myPads),this.bp.me&&"Guest"!==this.bp.me?($(".loggedOut",this.padWindow.content).flexHide(),$(".loggedIn",this.padWindow.content).flexShow()):($(".loggedOut",this.padWindow.content).flexShow(),$(".loggedIn",this.padWindow.content).flexHide());let t="https://files.buddypond.com/"+this.bp.me,n=this.bp.config.host+"/"+this.bp.me;$(".userFilesHome",this.padWindow.content).html(n),$(".userFilesHome",this.padWindow.content).attr("href",n),$(".userFilesCDN",this.padWindow.content).html(t),$(".userFilesCDN",this.padWindow.content).attr("href",t);let a=this;const o=(e,t)=>{let n;return function(){const a=this,o=arguments;clearTimeout(n),n=setTimeout((()=>e.apply(a,o)),t)}};return $(".padTitle",this.padWindow.content).on("input",o((function(e){$(this).removeClass("error"),console.log("Input changed:",e.target.value),function(e){let n=e.replace(/\s+/g,"-");n=n.replace(/-+/g,"_");let o=a.slugify(n,{lower:!0,replacement:"-",remove:/[^A-Za-z0-9_\-]/g,strict:!1});$(".padTitle",a.padWindow.content).val(o),$(".padUrl",a.padWindow.content).val(`${t}/pads/${o}`)}(e.target.value)}),250)),$(".padTitle",this.padWindow.content).on("input",(()=>{$(".status-indicator",this.padWindow.content).addClass("active").text("Generating URL...")})).on("input",o((()=>{$(".status-indicator",this.padWindow.content).removeClass("active").text(""),$(".padUrl",this.padWindow.content).val(`${n}/pads/${a.slugify($(".padTitle",a.padWindow.content).val())}`)}),250)),$(".bp-pad-form",this.padWindow.content).on("submit",(async e=>{if(e.preventDefault(),console.log("Save pad button clicked"),!$(".padTitle",this.padWindow.content).val())return void $(".padTitle",this.padWindow.content).addClass("error").attr("placeholder","Please enter a name...");$(".save-pad-button",this.padWindow.content).prop("disabled",!0),$(".save-pad-button",this.padWindow.content).addClass("disabled");let t,n,a=!1;try{n=await this.savePad(),a=!0}catch(e){console.error(e),t=e}if(a){console.log("the new pad is ",n);try{await this.buildPad(n.title)}catch(e){return void console.error("Error building pad",e)}$("#pads-upload-files",this.padWindow.content).show(),$("#pads-editor",this.padWindow.content).flexHide(),console.log("getting the pads again"),this.myPads=await this.bp.apps.client.api.getPads(),console.log("got the pads again",myPads),this.renderPadRows(this.myPads),$(".bp-pad-container",this.padWindow.content).flexShow();let e=$("#padTitle").val();$(".openPadButton",this.padWindow.content).attr("data-context",`/pads/${e}/index.html`)}else console.log("Pad not saved",t),"Pad already exists"===t.message&&($(".padTitle",this.padWindow.content).addClass("error"),$(".status-indicator",this.padWindow.content).addClass("error").text("Pad already exists"));return $(".save-pad-button",this.padWindow.content).prop("disabled",!1),$(".save-pad-button",this.padWindow.content).removeClass("disabled"),!1})),$(".create-pad-button",this.padWindow.content).on("click",(()=>{this.tabs.navigateToTab("#pads-editor")})),this.tabs.showTab("#buddy-pads"),this.padWindow.maximize(),this.padWindow}editPad(e){$(".tab-content",this.padWindow.content).flexHide(),$(".pad-code-editor",this.padWindow.content).flexShow()}}a.prototype.renderPadRows=function(e){if(e&&e.length>0){let t=$(".bp-pad-table",this.padWindow.content);t.empty(),e.forEach((e=>{let n=document.createElement("tr");n.setAttribute("data-title",e.title);let a=document.createElement("td");a.innerHTML=e.title,a.style.fontWeight="bold",a.style.minWidth="100px",n.appendChild(a),a=document.createElement("td");let o="/"+e.owner+"/pads/"+e.title,i=`<a href="${o}" target="_blank">${o}</a>`;a.innerHTML=i,n.appendChild(a),a=document.createElement("td"),a.style.textAlign="right";let s=document.createElement("button");s.classList.add("submit-to-app-store-button"),s.innerHTML="Submit to App Store",s.onclick=()=>{alert("Submit to App Store not implemented yet")},a.appendChild(s);let d=document.createElement("button");d.classList.add("deploy-via-github-action-button"),d.innerHTML="Deploy via GitHub Action",d.onclick=()=>{alert("Deploy via GitHub Action not implemented yet")},a.appendChild(d);let l=document.createElement("button");l.classList.add("upload-folder-button"),l.innerHTML="Upload Folder",l.onclick=()=>{alert("Upload Folder not implemented yet")},a.appendChild(l);let p=document.createElement("button");p.classList.add("install-button"),p.innerHTML="Install",p.onclick=()=>{let t="/"+e.owner+"/pads/"+e.title,n="pad-"+e.owner+"-"+e.title,a={title:e.title,content:t,width:800,height:600,id:n};bp.window(a)},a.appendChild(p);let c=document.createElement("button");c.classList.add("edit-button"),c.innerHTML="Edit",c.onclick=()=>{},a.appendChild(c);let r=document.createElement("button");r.innerHTML="Delete",r.classList.add("delete-button"),a.appendChild(r);let u=document.createElement("button");u.innerHTML="View",u.classList.add("view-button"),a.appendChild(u),n.appendChild(a),n.addEventListener("click",(async t=>{let n;"submit"===t.target.type&&(n=t.target.innerHTML);let a=$(t.target).closest("tr"),o=a.attr("data-title"),i="/"+e.owner+"/pads/"+e.title,s="/"+e.owner+"/"+e.title,d="pads/"+e.title;if("View"===n&&window.open(i,"_blank"),"Delete"===n){if(confirm("Are you sure you want to delete "+o+"?")){$(".ui-button",a).prop("disabled",!0),$(".ui-button",a).addClass("disabled");try{await this.bp.apps.client.api.deletePad(s)}catch(e){console.log("error deleting pad",e)}try{await this.bp.apps.client.api.removeFile(d)}catch(e){console.log("error deleting pad file",e)}a.remove()}this.open()}"Edit"===n&&(this.bp.open("file-explorer",{context:"/"+d+"/index.html"}),this.bp.apps.ui.windowManager.focusWindow("file-explorer"))})),t.append(n)}))}else $(".bp-pad-container",this.padWindow.content).flexHide()},a.prototype.savePad=async function(){let e,t=$("#padTitle").val(),n="/"+this.bp.me+"/"+t,a=$("#padDescription").val();console.log("sending padKey",n);try{e=await this.bp.apps.client.api.getPad(n),console.log("got back the pad",e)}catch(e){console.error("error getting pad",e)}if(console.log("thePad",e),e)throw console.log("pad already exists, please choose a different name"),new Error("Pad already exists");{console.log("pad is available, creating pad");let e,n={title:t,description:a};try{e=await this.bp.apps.client.api.createPad(n),console.log("created pad",e)}catch(e){console.error("error creating pad",e)}return e}},a.prototype.buildPad=async function(n,a="default"){this.bp.me;for(const[a,o]of Object.entries(e)){console.log(`Creating ${a}`);const e=new Blob([o],{type:t(a)}),i=new File([e],a,{type:e.type,lastModified:new Date});i.filePath="pads/"+n+`/${a}`,console.log(`Uploading ${a}...`,i);try{this.bp.apps.client.api.uploadFile(i),console.log(`${a} uploaded successfully.`)}catch(e){console.error(`Error uploading ${a}: ${e.message}`)}}},a.prototype.renderAppList=function(e={}){const t=$(".bp-pads-grid"),a=$(".bp-pads-category-list"),o="undefined"!=typeof bp&&bp.isMobile&&bp.isMobile();let i=this.bp?.settings?.apps_installed||{};this.bp?.me?.isAdmin||Object.keys(n).forEach((e=>{n[e].adminOnly&&delete n[e]}));let s=new Set;function d(t,n){const a=!!i[t],o=a?"Open":"Install",s=a?"bp-pads-btn-open":"bp-pads-btn-install",d=a?`<button class="bp-pads-btn bp-pads-btn-uninstall" data-app="${t}">Uninstall</button>`:"";return`\n            <div class="bp-pads-app" data-app="${t}">\n                <img src="${n.icon}" alt="${n.label} icon" class="bp-pads-app-icon">\n                <div class="bp-pads-app-info">\n                    <h4 class="bp-pads-app-label">${n.label}</h4>\n                    <p class="bp-pads-app-description">${n.description}</p>\n                    <div class="bp-pads-app-actions">\n                        <button class="bp-pads-btn ${s}" data-app="${t}">${o}</button>\n                        ${d}\n                    </div>\n                    <div class="bp-pads-app-metadata">\n                        <div class="bp-pads-app-author">\n                            <span class="bp-pads-app-author-label">Author:</span>\n                            <span class="bp-pads-app-author-value">${n.author||"BuddyPond"}</span>\n                        </div>\n                        <div class="bp-pads-app-install-count">\n                            <span class="bp-pads-app-install-count-label">Downloads:</span>\n                            <span class="bp-pads-app-install-count-value">${e[t]?.installCount||0}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `}function l(e,t){const n="install"===t;e.addClass("bp-pads-btn-loading"),e.text(n?"Installing...":"Uninstalling..."),e.css("cursor","wait"),e[0].offsetHeight}function p(e,t){e.removeClass("bp-pads-btn-loading"),e.text(t?"Open":"Install"),e.removeClass("bp-pads-btn-install bp-pads-btn-open"),e.addClass(t?"bp-pads-btn-open":"bp-pads-btn-install"),e.css("cursor","")}function c(e="all"){t.empty();let a=Object.entries(n);"all"!==e&&"installed"!==e&&(a=a.filter((([t,n])=>n.categories&&n.categories.includes(e)))),"installed"===e&&(a=a.filter((([e])=>i[e]))),o&&(a=a.filter((([e,t])=>!t.desktopOnly))),a.sort(((e,t)=>e[1].label.localeCompare(t[1].label))),a.forEach((([e,n])=>{t.append(d(e,n))}))}Object.values(n).forEach((e=>{e.categories&&e.categories.forEach((e=>s.add(e)))})),s=Array.from(s).sort(),s.forEach((e=>{a.append(`\n            <button class="bp-pads-category-btn" data-category="${e}">\n                ${e.charAt(0).toUpperCase()+e.slice(1)}\n            </button>\n        `)}));let r="all";c(r),a.on("click",".bp-pads-category-btn",(e=>{$(".bp-pads-category-btn").removeClass("bp-pads-category-active"),$(e.target).addClass("bp-pads-category-active"),r=$(e.target).data("category"),c(r),$(this.padWindow.content).scrollTop(0)})),t.on("click",".bp-pads-btn",(async e=>{const t=$(e.target),a=t.data("app"),o=n[a];if(o){if(i[a],t.hasClass("bp-pads-btn-install"))console.log(`Stub: Installing app ${a}`),l(t,"install"),await this.bp.apps.desktop.addApp(a,o),i[a]=o,p(t,!0),$(`.bp-pads-app[data-app="${a}"]`).replaceWith(d(a,o));else if(t.hasClass("bp-pads-btn-open")){console.log(`Stub: Opening app ${a}`);try{console.log(`Executing onClick for ${a}`,o),o.app?this.bp.open(o.app,{context:o.context||{}}):this.bp.open(a)}catch(e){console.error(`Error executing onClick for ${a}:`,e)}}else if(t.hasClass("bp-pads-btn-uninstall")){console.log(`Stub: Uninstalling app ${a}`),l(t,"uninstall");let e=t.parent().find(".bp-pads-btn-open");console.log(e),e.remove(),await this.bp.apps.desktop.removeApp(a,o),delete i[a],p(t,!1),$(`.bp-pads-app[data-app="${a}"]`).replaceWith(d(a,o))}}else console.warn(`App ${a} not found in appList`)}))};export{a as default};
//# sourceMappingURL=pad.js.map
